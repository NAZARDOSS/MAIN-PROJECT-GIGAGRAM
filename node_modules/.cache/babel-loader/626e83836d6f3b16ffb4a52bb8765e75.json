{"ast":null,"code":"import _slicedToArray from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import{useNavigate,useParams}from\"react-router-dom\";import Box from'@mui/joy/Box';import Button from'@mui/joy/Button';import Divider from'@mui/joy/Divider';import Modal from'@mui/joy/Modal';import ModalDialog from'@mui/joy/ModalDialog';import DeleteForever from'@mui/icons-material/DeleteForever';import WarningRoundedIcon from'@mui/icons-material/WarningRounded';import Typography from'@mui/joy/Typography';import{observer}from'mobx-react';import{useStores}from'../../../stores/MainStore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AlertDialogModal=observer(function(){var _useParams=useParams(),id=_useParams.id;var _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;var _React$useState=React.useState(\"Are you sure you want to discard this post?\"),_React$useState2=_slicedToArray(_React$useState,2),modalInfo=_React$useState2[0],setModalInfo=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),open=_React$useState4[0],setOpen=_React$useState4[1];var navigate=useNavigate();var handleDeletePost=function handleDeletePost(){new Promise(function(resolve,rejects){resolve();}).then(function(){return RequestsStore.doDelete(ConfigStore.url+\"/post/\"+id);}).then(function(resp){resp.deleted?(setOpen(false),navigate(-1)):setModalInfo(\"Sorry, can not delete this post\");});};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"danger\",enddecorator:/*#__PURE__*/_jsx(DeleteForever,{}),onClick:function onClick(){return setOpen(true);},children:\"Discard\"}),/*#__PURE__*/_jsx(Modal,{open:open,onClose:function onClose(){return setOpen(false);},children:/*#__PURE__*/_jsxs(ModalDialog,{variant:\"outlined\",role:\"alertdialog\",\"aria-labelledby\":\"alert-dialog-modal-title\",\"aria-describedby\":\"alert-dialog-modal-description\",children:[/*#__PURE__*/_jsx(Typography,{id:\"alert-dialog-modal-title\",component:\"h2\",startdecorator:/*#__PURE__*/_jsx(WarningRoundedIcon,{}),children:\"Confirmation\"}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Typography,{id:\"alert-dialog-modal-description\",textColor:\"text.tertiary\",children:modalInfo}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,justifyContent:'flex-end',pt:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"plain\",color:\"neutral\",onClick:function onClick(){return setOpen(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"solid\",color:\"danger\",onClick:handleDeletePost,children:\"Continue\"})]})]})})]});});export default AlertDialogModal;","map":{"version":3,"names":["React","useNavigate","useParams","Box","Button","Divider","Modal","ModalDialog","DeleteForever","WarningRoundedIcon","Typography","observer","useStores","jsx","_jsx","jsxs","_jsxs","AlertDialogModal","_useParams","id","_useStores","RequestsStore","ConfigStore","_React$useState","useState","_React$useState2","_slicedToArray","modalInfo","setModalInfo","_React$useState3","_React$useState4","open","setOpen","navigate","handleDeletePost","Promise","resolve","rejects","then","doDelete","url","resp","deleted","Fragment","children","variant","color","enddecorator","onClick","onClose","role","component","startdecorator","textColor","sx","display","gap","justifyContent","pt"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/partial/modal/DeletePost.jsx"],"sourcesContent":["import * as React                   from 'react';\nimport { useNavigate, useParams }   from \"react-router-dom\";\nimport Box                          from '@mui/joy/Box';\nimport Button                       from '@mui/joy/Button';\nimport Divider                      from '@mui/joy/Divider';\nimport Modal                        from '@mui/joy/Modal';\nimport ModalDialog                  from '@mui/joy/ModalDialog';\nimport DeleteForever                from '@mui/icons-material/DeleteForever';\nimport WarningRoundedIcon           from '@mui/icons-material/WarningRounded';\nimport Typography                   from '@mui/joy/Typography';\nimport { observer }                 from 'mobx-react';\nimport { useStores }                from '../../../stores/MainStore';\n\nconst AlertDialogModal = observer(() => {\n\n  const { id } = useParams();\n\n  const { RequestsStore, ConfigStore } = useStores();\n\n  const [modalInfo, setModalInfo] = React.useState(\"Are you sure you want to discard this post?\");\n  const [open, setOpen] = React.useState(false);\n\n  const navigate = useNavigate();\n\n    const handleDeletePost = () => {\n      new Promise((resolve, rejects) => {\n        resolve();\n      })\n      .then(() => {\n        return RequestsStore.doDelete(ConfigStore.url + \"/post/\" + id);\n      })\n      .then((resp) => {\n        resp.deleted ? (\n          setOpen(false),\n          navigate(-1)\n        ) : (\n          setModalInfo(\"Sorry, can not delete this post\")\n        )\n      })\n    };\n\n  return (\n    <React.Fragment>\n      <Button\n        variant=\"outlined\"\n        color=\"danger\"\n         enddecorator={<DeleteForever />}\n        onClick={() => setOpen(true)}\n      >\n        Discard\n      </Button>\n      <Modal open={open} onClose={() => setOpen(false)}>\n        <ModalDialog\n          variant=\"outlined\"\n          role=\"alertdialog\"\n          aria-labelledby=\"alert-dialog-modal-title\"\n          aria-describedby=\"alert-dialog-modal-description\"\n        >\n          <Typography\n            id=\"alert-dialog-modal-title\"\n            component=\"h2\"\n            startdecorator={<WarningRoundedIcon />}\n          >\n            Confirmation\n          </Typography>\n          <Divider />\n          <Typography id=\"alert-dialog-modal-description\" textColor=\"text.tertiary\">\n            {modalInfo}\n          </Typography>\n          <Box sx={{ display: 'flex', gap: 1, justifyContent: 'flex-end', pt: 2 }}>\n            <Button variant=\"plain\" color=\"neutral\" onClick={() => setOpen(false)}>\n              Cancel\n            </Button>\n            <Button variant=\"solid\" color=\"danger\" onClick={handleDeletePost}>\n              Continue\n            </Button>\n          </Box>\n        </ModalDialog>\n      </Modal>\n    </React.Fragment>\n  );\n});\n\nexport default AlertDialogModal;"],"mappings":"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"},"metadata":{},"sourceType":"module"}