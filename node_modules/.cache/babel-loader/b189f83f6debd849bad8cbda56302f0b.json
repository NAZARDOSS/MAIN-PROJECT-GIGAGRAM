{"ast":null,"code":"import React,{useEffect}from\"react\";import{BsPlusSquareFill}from\"react-icons/bs\";import ModalWindow from\"../../partial/modal/ModalWindow\";import{observer}from\"mobx-react\";import Followers from\"../followers/FollowersView\";import Followings from\"../followings/FollowingsView\";import Footer from\"../../partial/footer/Footer\";import styles from\"./scss/myPage.scss\";import EditModal from\"../../partial/modal/EditModal\";import{useStores}from\"../../../stores/MainStore\";import ProfilePosts from\"./Posts\";import Loading from\"../../partial/Loading\";import ErrorModal from\"../../partial/modal/ErrorModal\";import{Avatar}from\"@mui/material\";import Success from\"../../partial/Success\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MyPage=observer(function(){var _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;useEffect(function(){new Promise(function(resolve,rejects){resolve();}).then(function(){return RequestsStore.doGet(ConfigStore.url+\"/me\");}).then(function(myInfo){ConfigStore.setLoading(false);if(myInfo===\"Forbidden\"){ConfigStore.setErr(\"Token has been burned\");ConfigStore.setIsShow(true);}else{ConfigStore.setMe(myInfo);ConfigStore.setUpdateMe(false);}});},[ConfigStore.updateMe,ConfigStore.loading,ConfigStore.updatePosts]);return/*#__PURE__*/_jsx(_Fragment,{children:ConfigStore.loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"body_myPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile_info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title_header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-picture\",children:/*#__PURE__*/_jsx(Avatar,{src:ConfigStore.me.avatar,alt:\"Profile avatar\",className:\"picture__avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"user_title\",children:[/*#__PURE__*/_jsx(\"p\",{children:ConfigStore.me.fullName}),/*#__PURE__*/_jsx(\"p\",{children:ConfigStore.me.username})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"p\",{children:ConfigStore.me.bio}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-counts\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"count_block-posts\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:ConfigStore.me.posts_count}),/*#__PURE__*/_jsx(\"span\",{className:\"stat\",children:\"Posts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"count_block\",children:[/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return ConfigStore.setIsShowFollowers(true);},children:[ConfigStore.me.followers,\" Followers\"]}),/*#__PURE__*/_jsx(Followers,{username:ConfigStore.me.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"count_block\",children:[/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return ConfigStore.setIsShowFollowings(true);},children:[ConfigStore.me.following,\" Followings\"]}),/*#__PURE__*/_jsx(Followings,{username:ConfigStore.me.username})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-profile\",onClick:function onClick(){return ConfigStore.setIsShowEditModal(true);},children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"span\",{className:\"button_create\",onClick:function onClick(){return ConfigStore.setIsShowModalWindow(true);},children:/*#__PURE__*/_jsx(BsPlusSquareFill,{className:\"add_button\"})}),/*#__PURE__*/_jsx(EditModal,{me:ConfigStore.me}),/*#__PURE__*/_jsx(ModalWindow,{})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"posts_block\",children:/*#__PURE__*/_jsx(ProfilePosts,{myId:ConfigStore.me._id})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(ErrorModal,{}),/*#__PURE__*/_jsx(Success,{})]})});});export default MyPage;","map":{"version":3,"names":["React","useEffect","BsPlusSquareFill","ModalWindow","observer","Followers","Followings","Footer","styles","EditModal","useStores","ProfilePosts","Loading","ErrorModal","Avatar","Success","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyPage","_useStores","RequestsStore","ConfigStore","Promise","resolve","rejects","then","doGet","url","myInfo","setLoading","setErr","setIsShow","setMe","setUpdateMe","updateMe","loading","updatePosts","children","className","src","me","avatar","alt","fullName","username","bio","style","display","posts_count","onClick","setIsShowFollowers","followers","setIsShowFollowings","following","setIsShowEditModal","setIsShowModalWindow","myId","_id"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/private/myPage/MyPage.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { BsPlusSquareFill }           from \"react-icons/bs\";\nimport ModalWindow                    from \"../../partial/modal/ModalWindow\";\nimport { observer }                   from \"mobx-react\";\nimport Followers                      from \"../followers/FollowersView\";\nimport Followings                     from \"../followings/FollowingsView\";\nimport Footer                         from \"../../partial/footer/Footer\"\nimport styles                         from \"./scss/myPage.scss\";\nimport EditModal                      from \"../../partial/modal/EditModal\";\nimport { useStores }                  from \"../../../stores/MainStore\";\nimport ProfilePosts                   from \"./Posts\";\nimport Loading                        from \"../../partial/Loading\";\nimport ErrorModal                     from \"../../partial/modal/ErrorModal\";\nimport { Avatar }                     from \"@mui/material\";\nimport Success                        from \"../../partial/Success\";         \n\nconst MyPage = observer(() => {\n\n  const { RequestsStore, ConfigStore } = useStores();\n  \n  useEffect(() => {\n    new Promise((resolve, rejects) => {\n      resolve();\n    })\n    .then(() => {\n      return RequestsStore.doGet(ConfigStore.url + \"/me\");\n    })\n    .then((myInfo) => {\n      ConfigStore.setLoading(false);\n      if (myInfo === \"Forbidden\") {\n        ConfigStore.setErr(\"Token has been burned\");\n        ConfigStore.setIsShow(true);\n      } else {\n        ConfigStore.setMe(myInfo);\n        ConfigStore.setUpdateMe(false); \n      }\n    })\n  }, [ConfigStore.updateMe, ConfigStore.loading, ConfigStore.updatePosts]);\n\n  return (\n    <>  \n    {ConfigStore.loading ? <Loading /> : \n      <div className=\"body_myPage\">\n        <div className=\"profile-container\">\n          <div className=\"profile_info\">\n            \n            <div className=\"info-container\">\n              <div className=\"title_header\">\n                <div className=\"profile-picture\">\n                  <Avatar src={ConfigStore.me.avatar} alt=\"Profile avatar\" className=\"picture__avatar\"/>\n                </div>\n                <div className=\"user_title\">\n                  <p>{ConfigStore.me.fullName}</p>\n                  <p>{ConfigStore.me.username}</p>\n                </div>\n              </div>\n\n              <div className=\"profile-info\">\n                <p>{ConfigStore.me.bio}</p>\n                <div className=\"profile-counts\" style={{display: \"flex\"}}>\n                  <div className=\"count_block-posts\">\n                    <span className=\"count\">{ConfigStore.me.posts_count}</span>\n                    <span className=\"stat\">Posts</span>\n                  </div>\n                  <div className=\"count_block\">\n                    <span onClick={() => ConfigStore.setIsShowFollowers(true)}>{ConfigStore.me.followers} Followers</span>\n                    <Followers username={ConfigStore.me.username} />\n                  </div>\n                  <div className=\"count_block\">\n                    <span onClick={() => ConfigStore.setIsShowFollowings(true)}>{ConfigStore.me.following} Followings</span>\n                    <Followings username={ConfigStore.me.username} />\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"edit\">\n              <button\n                className=\"edit-profile\"\n                onClick={() => ConfigStore.setIsShowEditModal(true)}\n              >\n                Edit Profile\n              </button>\n              <span\n                className=\"button_create\"\n                onClick={() => ConfigStore.setIsShowModalWindow(true)}\n              >\n                <BsPlusSquareFill className=\"add_button\" />\n              </span>\n              <EditModal me={ConfigStore.me}  />\n              <ModalWindow />\n            </div> \n          </div>\n\n          <div className=\"posts_block\">\n            <ProfilePosts myId={ConfigStore.me._id} />\n          </div>\n\n        </div>\n        <Footer />\n        <ErrorModal />\n        <Success />\n      </div>\n    }\n  </>\n  );\n});\n\nexport default MyPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}