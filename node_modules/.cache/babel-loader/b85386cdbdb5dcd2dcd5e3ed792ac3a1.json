{"ast":null,"code":"var _jsxFileName = \"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/partial/modal/SearchModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport modalStyle from \"./modal.scss\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { observer } from \"mobx-react\";\nimport { useStores } from \"../../../stores/MainStore\";\nimport { useNavigate } from \"react-router-dom/dist\";\nimport { ListItem, ListItemAvatar, ListItemText, Avatar, ListItemButton, TextField, InputAdornment } from '@mui/material';\nimport PersonSearchIcon from '@mui/icons-material/PersonSearch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchModal = observer(_c = _s(() => {\n  _s();\n  const {\n    RequestsStore,\n    ConfigStore\n  } = useStores();\n  const [users, setUsers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const navigate = useNavigate();\n  const {} = useForm({\n    mode: \"onChange\"\n  });\n  function handleClose() {\n    ConfigStore.setIsShowSearchModal(false);\n  }\n  const filteredUsers = users.filter(person => {\n    return person.username.toLowerCase().includes(searchTerm.toLowerCase()) || person.fullName && person.fullName.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n  function handleSearch(event) {\n    setSearchTerm(event.target.value);\n  }\n  useEffect(() => {\n    new Promise((resolve, rejects) => {\n      resolve();\n    }).then(() => {\n      return RequestsStore.doGet(ConfigStore.url + \"/users\");\n    }).then(users => {\n      if (users === \"Forbidden\") {\n        ConfigStore.setErr(\"Token has been burned\");\n        ConfigStore.setIsShow(true);\n      } else {\n        setUsers(users);\n      }\n    });\n  }, []);\n  const toUser = username => {\n    handleClose();\n    navigate(`/user/${username}`);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: ConfigStore.isShowSearchModal,\n      className: \"modals\",\n      onHide: handleClose,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          className: \"search__header\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            className: \"search__input\",\n            onChange: handleSearch,\n            size: \"small\",\n            fullWidth: true,\n            id: \"input-with-icon-textfield\",\n            placeholder: \"Username\",\n            multiline: true,\n            variant: \"standard\",\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                style: {\n                  margin: 0,\n                  marginRight: \"5px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(PersonSearchIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 15\n              }, this)\n            },\n            style: {\n              marginBottom: \"10px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), filteredUsers.slice(0, 5).map(person => {\n          const labelId = `checkbox-list-secondary-label-${person._id}`;\n          return /*#__PURE__*/_jsxDEV(ListItem, {\n            secondaryAction: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => toUser(person.username),\n              className: \"edit-btn\",\n              children: \"GO TO\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 32\n            }, this),\n            disablePadding: true,\n            children: /*#__PURE__*/_jsxDEV(ListItemButton, {\n              onClick: () => toUser(person.username),\n              children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  alt: \"\",\n                  src: person.avatar\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                id: labelId,\n                primary: person.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, person._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}, \"U0m5Jg8Fd4XYRStWlDzjPqiXeM4=\", false, function () {\n  return [useStores, useNavigate, useForm];\n}));\n_c2 = SearchModal;\nexport default SearchModal;\nvar _c, _c2;\n$RefreshReg$(_c, \"SearchModal$observer\");\n$RefreshReg$(_c2, \"SearchModal\");","map":{"version":3,"names":["React","useState","useEffect","useForm","modalStyle","Modal","Button","observer","useStores","useNavigate","ListItem","ListItemAvatar","ListItemText","Avatar","ListItemButton","TextField","InputAdornment","PersonSearchIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchModal","_c","_s","RequestsStore","ConfigStore","users","setUsers","searchTerm","setSearchTerm","navigate","mode","handleClose","setIsShowSearchModal","filteredUsers","filter","person","username","toLowerCase","includes","fullName","handleSearch","event","target","value","Promise","resolve","rejects","then","doGet","url","setErr","setIsShow","toUser","children","show","isShowSearchModal","className","onHide","Header","onChange","size","fullWidth","id","placeholder","multiline","variant","InputProps","startAdornment","position","style","margin","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","slice","map","labelId","_id","secondaryAction","onClick","disablePadding","alt","src","avatar","primary","_c2","$RefreshReg$"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/partial/modal/SearchModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useForm }                    from \"react-hook-form\";\nimport modalStyle                     from \"./modal.scss\";\nimport { Modal, Button }              from \"react-bootstrap\";\nimport { observer }                   from \"mobx-react\";\nimport { useStores }                  from \"../../../stores/MainStore\";\nimport { useNavigate }                from \"react-router-dom/dist\";\nimport { ListItem, ListItemAvatar, ListItemText, Avatar, ListItemButton, TextField, InputAdornment } from '@mui/material';\nimport PersonSearchIcon from '@mui/icons-material/PersonSearch';\n\nconst SearchModal = observer(() => {\n  const { RequestsStore, ConfigStore } = useStores();\n  const [users, setUsers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const navigate = useNavigate();\n\n  const {} = useForm({ mode: \"onChange\" });\n\n  function handleClose() {\n    ConfigStore.setIsShowSearchModal(false);\n  }\n\n  const filteredUsers = users.filter((person) => {\n    return (\n      person.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (person.fullName &&\n        person.fullName.toLowerCase().includes(searchTerm.toLowerCase()))\n    );\n  });\n\n  function handleSearch(event) {\n    setSearchTerm(event.target.value);\n  }\n\n  useEffect(() => {\n    new Promise((resolve, rejects) => {\n      resolve();\n    })\n      .then(() => {\n        return RequestsStore.doGet(ConfigStore.url + \"/users\");\n      })\n      .then((users) => {\n        if (users === \"Forbidden\") {\n          ConfigStore.setErr(\"Token has been burned\");\n          ConfigStore.setIsShow(true);\n        } else {\n          setUsers(users);\n        }\n      });\n  }, []);\n\n  const toUser = (username) => {\n    handleClose();\n    navigate(`/user/${username}`);\n  };\n\n  return (\n    <>\n      <Modal show={ConfigStore.isShowSearchModal} className=\"modals\" onHide={handleClose}>\n        <div className=\"search\">\n        <Modal.Header className=\"search__header\">\n          <TextField className=\"search__input\"\n          onChange={handleSearch}\n          size='small'\n          fullWidth\n          id=\"input-with-icon-textfield\"\n          placeholder=\"Username\"\n          multiline\n          variant=\"standard\"\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\" style={{ margin: 0, marginRight: \"5px\" }}>\n                <PersonSearchIcon />\n              </InputAdornment>\n            ),\n          }}\n          style={{\n            marginBottom: \"10px\"\n          }}\n        />\n        </Modal.Header>\n        {filteredUsers.slice(0, 5).map((person) => {\n          const labelId = `checkbox-list-secondary-label-${person._id}`;\n          return (\n            <ListItem\n              key={person._id}\n              secondaryAction={<Button onClick = {() => toUser(person.username)} className=\"edit-btn\" >GO TO</Button>}\n              disablePadding\n            >\n              <ListItemButton onClick = {() => toUser(person.username)}>\n                <ListItemAvatar>\n                  <Avatar alt=\"\" src={person.avatar} />\n                </ListItemAvatar>\n                <ListItemText id={labelId} primary={person.username} />\n              </ListItemButton>\n            </ListItem>\n          );\n        })}\n        </div>\n      </Modal>\n    </>\n  );\n});\n\nexport default SearchModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}