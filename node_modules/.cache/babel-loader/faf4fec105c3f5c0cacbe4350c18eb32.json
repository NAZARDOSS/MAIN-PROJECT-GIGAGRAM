{"ast":null,"code":"import _objectSpread from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useForm}from\"react-hook-form\";import{Modal,Button}from\"react-bootstrap\";import TextField from'@mui/material/TextField';import modalStyle from\"./modal.scss\";import{observer}from\"mobx-react\";import{useStores}from\"../../../stores/MainStore\";import Success from\"../Success\";import ChildModal from\"./ChildModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ModalWindow=observer(function(){var _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newTitle=_useState2[0],setNewTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newDescription=_useState4[0],setNewDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),newImg=_useState6[0],setNewImg=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),newVideo=_useState8[0],setNewVideo=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),reqMedia=_useState10[0],setReqMedia=_useState10[1];var _useForm=useForm({mode:\"onChange\"}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;function handleClose(){ConfigStore.setIsShowModalWindow(false);}var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var resp;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(!data.image&&!data.video)){_context.next=2;break;}return _context.abrupt(\"return\",setReqMedia(\"Image or Video Field is required\"));case 2:resp=RequestsStore.doPost(ConfigStore.url+\"/post\",{title:data.title,description:data.description,image:data.image,video:data.video,status:\"active\"}).then(function(){handleClose();ConfigStore.setUpdatePosts(true);ConfigStore.setSnackSeverity(\"success\");ConfigStore.setSnackText(\"Posted successfuly!\");ConfigStore.setIsShowSnack(true);});case 3:case\"end\":return _context.stop();}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Modal,{className:\"modals\",show:ConfigStore.isShowModalWindow,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Add post\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(function(data){return onSubmit(data);}),children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(TextField,_objectSpread({type:\"text\",id:\"outlined-normal\",label:\"Title\",fullWidth:true,size:\"small\"},register(\"title\",{required:\"The field is required\",value:newTitle,onChange:function onChange(e){setNewTitle(e.target.value);}}))),/*#__PURE__*/_jsx(\"p\",{className:\"validError\",children:errors.title&&errors.title.message}),/*#__PURE__*/_jsx(TextField,_objectSpread({type:\"text\",id:\"outlined-normal\",label:\"Description\",fullWidth:true,size:\"small\"},register(\"description\",{required:\"The field is required\",value:newDescription,onChange:function onChange(e){setNewDescription(e.target.value);}}))),/*#__PURE__*/_jsx(\"p\",{className:\"validError\",children:errors.description&&errors.description.message}),/*#__PURE__*/_jsx(TextField,_objectSpread({type:\"url\",id:\"outlined-normal\",label:\"Image\",fullWidth:true,size:\"small\"},register(\"image\",{value:newImg,onChange:function onChange(e){setNewImg(e.target.value);}}))),/*#__PURE__*/_jsx(\"p\",{className:\"validError\",children:reqMedia}),/*#__PURE__*/_jsx(TextField,_objectSpread({type:\"url\",id:\"outlined-normal\",label:\"Video\",fullWidth:true,size:\"small\"},register(\"video\",{value:newVideo,onChange:function onChange(e){setNewVideo(e.target.value);}}))),/*#__PURE__*/_jsx(\"p\",{className:\"validError\",children:reqMedia})]}),/*#__PURE__*/_jsxs(Modal.Footer,{style:{display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(ChildModal,{}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",className:\"edit-btn\",type:\"submit\",children:\"Add\"})]})]})]}),/*#__PURE__*/_jsx(Success,{})]});});export default ModalWindow;","map":{"version":3,"names":["React","useState","useForm","Modal","Button","TextField","modalStyle","observer","useStores","Success","ChildModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ModalWindow","_useStores","RequestsStore","ConfigStore","_useState","_useState2","_slicedToArray","newTitle","setNewTitle","_useState3","_useState4","newDescription","setNewDescription","_useState5","_useState6","newImg","setNewImg","_useState7","_useState8","newVideo","setNewVideo","_useState9","_useState10","reqMedia","setReqMedia","_useForm","mode","register","handleSubmit","errors","formState","handleClose","setIsShowModalWindow","onSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","resp","wrap","_callee$","_context","prev","next","image","video","abrupt","doPost","url","title","description","status","then","setUpdatePosts","setSnackSeverity","setSnackText","setIsShowSnack","stop","_x","apply","arguments","children","className","show","isShowModalWindow","onHide","Header","closeButton","Title","Body","_objectSpread","type","id","label","fullWidth","size","required","value","onChange","e","target","message","Footer","style","display","justifyContent","variant"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/partial/modal/ModalWindow.jsx"],"sourcesContent":["import React, { useState }      from \"react\";\nimport { useForm }              from \"react-hook-form\";\nimport { Modal, Button }        from \"react-bootstrap\";\nimport TextField                from '@mui/material/TextField';\nimport modalStyle               from \"./modal.scss\";\nimport { observer }             from \"mobx-react\";\nimport { useStores }            from \"../../../stores/MainStore\";\nimport Success                  from \"../Success\";\nimport ChildModal               from \"./ChildModal\";\n\nconst ModalWindow = observer(() => {\n\n  const { RequestsStore, ConfigStore } = useStores();\n\n  const [newTitle, setNewTitle] = useState(\"\");\n  const [newDescription, setNewDescription] = useState(\"\");\n  const [newImg, setNewImg] = useState(\"\");\n  const [newVideo, setNewVideo] = useState(\"\");\n  const [reqMedia, setReqMedia] = useState(\"\");\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ mode: \"onChange\" });\n\n  function handleClose() {\n    ConfigStore.setIsShowModalWindow(false);\n  }\n\n  const onSubmit = async (data) => {\n    if (!data.image && !data.video) {\n      return setReqMedia(\"Image or Video Field is required\");\n    }\n\n    const resp = RequestsStore.doPost(ConfigStore.url + \"/post\", {\n        title: data.title,\n        description: data.description,\n        image: data.image,\n        video: data.video,\n        status: \"active\"\n    })\n    .then(() => {\n      handleClose();\n      ConfigStore.setUpdatePosts(true);\n      ConfigStore.setSnackSeverity(\"success\");\n      ConfigStore.setSnackText(\"Posted successfuly!\");\n      ConfigStore.setIsShowSnack(true);\n    })\n  };\n\n  return (\n    <>\n      <Modal className=\"modals\" show={ConfigStore.isShowModalWindow} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Add post</Modal.Title>\n        </Modal.Header>\n        <form onSubmit={handleSubmit((data) => onSubmit(data))}>\n          <Modal.Body>\n            <TextField\n              type=\"text\"\n              id=\"outlined-normal\"\n              label=\"Title\"\n              fullWidth\n              size=\"small\"\n              {...register(\"title\", {\n                required: \"The field is required\",\n                value: newTitle,\n                onChange: (e) => {\n                  setNewTitle(e.target.value);\n                },\n              })}\n            />\n            <p className=\"validError\">{errors.title && errors.title.message}</p>\n            <TextField\n              type=\"text\"\n              id=\"outlined-normal\"\n              label=\"Description\"\n              fullWidth\n              size=\"small\"\n              {...register(\"description\", {\n                required: \"The field is required\",\n                value: newDescription,\n                onChange: (e) => {\n                  setNewDescription(e.target.value);\n                },\n              })}\n            />\n            <p className=\"validError\">{errors.description && errors.description.message}</p>\n            <TextField\n              type=\"url\"\n              id=\"outlined-normal\"\n              label=\"Image\"\n              fullWidth\n              size=\"small\"\n              {...register(\"image\", {\n                value: newImg,\n                onChange: (e) => {\n                  setNewImg(e.target.value);\n                },\n              })}\n            />\n            <p className=\"validError\">{reqMedia}</p>\n            <TextField\n              type=\"url\"\n              id=\"outlined-normal\"\n              label=\"Video\"\n              fullWidth\n              size=\"small\"\n              {...register(\"video\", {\n                value: newVideo,\n                onChange: (e) => {\n                  setNewVideo(e.target.value);\n                },\n              })}\n            />\n            <p className=\"validError\">{reqMedia}</p>\n          </Modal.Body>\n          <Modal.Footer style={{\n            display: \"flex\",\n            justifyContent: \"space-between\"\n          }}>\n            <ChildModal />\n            <Button variant=\"secondary\" className=\"edit-btn\" type=\"submit\">\n              Add\n            </Button>\n          </Modal.Footer>\n        </form>\n      </Modal>\n      <Success />\n    </>\n  );\n});\n\nexport default ModalWindow;"],"mappings":"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"},"metadata":{},"sourceType":"module"}