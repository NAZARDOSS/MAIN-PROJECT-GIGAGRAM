{"ast":null,"code":"import _objectSpread from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import ImageList from\"@mui/material/ImageList\";import ImageListItem from\"@mui/material/ImageListItem\";import Paper from\"@mui/material/Paper\";import{styled}from\"@mui/material/styles\";import{observer}from\"mobx-react\";import{useStores}from\"../../../stores/MainStore\";import ReceiptLongIcon from'@mui/icons-material/ReceiptLong';import VideoLibraryIcon from\"@mui/icons-material/VideoLibrary\";import\"react-alice-carousel/lib/alice-carousel.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfilePosts=observer(function(props){var _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;var myId=props.myId;var navigate=useNavigate();var Label=styled(Paper)(function(_ref){var theme=_ref.theme;return _objectSpread(_objectSpread({backgroundColor:theme.palette.mode===\"dark\"?\"#1A2027\":\"#fff\"},theme.typography.body2),{},{padding:theme.spacing(0.5),textAlign:\"center\",color:theme.palette.text.secondary,borderBottomLeftRadius:0,borderBottomRightRadius:0});});useEffect(function(){if(myId!==undefined){new Promise(function(resolve,rejects){resolve();}).then(function(){return RequestsStore.doGet(ConfigStore.url+\"/posts?user_id=\"+myId);}).then(function(myPosts){if(myPosts===\"Forbidden\"){ConfigStore.setErr(\"Token has been burned\");ConfigStore.setIsShow(true);}else{ConfigStore.setMyPost(myPosts);ConfigStore.setUpdatePosts(false);}});}else{return;}},[myId,ConfigStore.updatePosts,ConfigStore.err]);return/*#__PURE__*/_jsx(\"div\",{style:{overflowWrap:\"anywhere\",width:\"inherhit\"},children:/*#__PURE__*/_jsx(ImageList,{cols:3,style:{height:\"100%\",display:ConfigStore.myPosts===\"Not Found\"?\"flex\":\"grid\",flexDirection:\"column\"},className:!ConfigStore.myPosts.includes(\"postEmptyState\")?\"imageListFlex\":\"\",children:ConfigStore.myPosts===\"Not Found\"?/*#__PURE__*/_jsxs(\"div\",{className:\"postEmptyState\",children:[/*#__PURE__*/_jsx(ReceiptLongIcon,{className:\"postEmptyState__icon\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"errorCase\",children:\" Sorry any posts found\"})]}):ConfigStore.myPosts.slice().reverse().map(function(item){return/*#__PURE__*/_jsx(ImageListItem,{style:{cursor:\"pointer\"},onClick:function onClick(){return navigate(\"/post/\".concat(item._id));},children:item.image&&item.video?/*#__PURE__*/_jsxs(\"div\",{className:\"item_video\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"set-icon\",children:/*#__PURE__*/_jsx(VideoLibraryIcon,{})}),/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(item.image),alt:item.image,loading:\"lazy\",className:\"post\"}),/*#__PURE__*/_jsx(\"video\",{autoPlay:true,loop:true,muted:true,playsInline:true,className:\"post\",style:{display:\"none\"},children:/*#__PURE__*/_jsx(\"source\",{src:item.video})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"item_video\",children:[item.image&&/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(item.image),srcSet:\"\".concat(item.image),alt:item.image,loading:\"lazy\",className:\"post\"}),item.video&&/*#__PURE__*/_jsx(\"video\",{autoPlay:true,loop:true,muted:true,playsInline:true,className:\"post\",children:/*#__PURE__*/_jsx(\"source\",{src:\"\".concat(item.video)})})]})},item._id+Math.random());})})});});export default ProfilePosts;","map":{"version":3,"names":["React","useEffect","useNavigate","ImageList","ImageListItem","Paper","styled","observer","useStores","ReceiptLongIcon","VideoLibraryIcon","jsx","_jsx","jsxs","_jsxs","ProfilePosts","props","_useStores","RequestsStore","ConfigStore","myId","navigate","Label","_ref","theme","_objectSpread","backgroundColor","palette","mode","typography","body2","padding","spacing","textAlign","color","text","secondary","borderBottomLeftRadius","borderBottomRightRadius","undefined","Promise","resolve","rejects","then","doGet","url","myPosts","setErr","setIsShow","setMyPost","setUpdatePosts","updatePosts","err","style","overflowWrap","width","children","cols","height","display","flexDirection","className","includes","slice","reverse","map","item","cursor","onClick","concat","_id","image","video","src","alt","loading","autoPlay","loop","muted","playsInline","srcSet","Math","random"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/private/myPage/Posts.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useNavigate }                from \"react-router-dom\";\nimport ImageList                      from \"@mui/material/ImageList\";\nimport ImageListItem                  from \"@mui/material/ImageListItem\";\nimport Paper                          from \"@mui/material/Paper\";\nimport { styled }                     from \"@mui/material/styles\";\nimport { observer }                   from \"mobx-react\";\nimport { useStores }                  from \"../../../stores/MainStore\";\nimport ReceiptLongIcon                from '@mui/icons-material/ReceiptLong';\nimport VideoLibraryIcon               from \"@mui/icons-material/VideoLibrary\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\n\nconst ProfilePosts = observer((props) => {\n  const { RequestsStore, ConfigStore } = useStores();\n\n  const { myId } = props;\n\n  const navigate = useNavigate();\n\n  const Label = styled(Paper)(({ theme }) => ({\n    backgroundColor: theme.palette.mode === \"dark\" ? \"#1A2027\" : \"#fff\",\n    ...theme.typography.body2,\n    padding: theme.spacing(0.5),\n    textAlign: \"center\",\n    color: theme.palette.text.secondary,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n  }));\n\n  useEffect(() => {\n    if (myId !== undefined) {\n      new Promise((resolve, rejects) => {\n        resolve();\n      })\n        .then(() => {\n          return RequestsStore.doGet(\n            ConfigStore.url + \"/posts?user_id=\" + myId\n          );\n        })\n        .then((myPosts) => {\n          if (myPosts === \"Forbidden\") {\n            ConfigStore.setErr(\"Token has been burned\");\n            ConfigStore.setIsShow(true);\n          } else {\n            ConfigStore.setMyPost(myPosts);\n            ConfigStore.setUpdatePosts(false);\n          }\n        });\n    } else {\n      return;\n    }\n  }, [myId, ConfigStore.updatePosts, ConfigStore.err]);\n\n  return (\n    <div style={{ overflowWrap: \"anywhere\", width: \"inherhit\" }}>\n    <ImageList\n    cols={3}\n    style={{\n    height: \"100%\",\n    display: ConfigStore.myPosts === \"Not Found\" ? \"flex\" : \"grid\",\n    flexDirection: \"column\",\n    }}\n    className={!ConfigStore.myPosts.includes(\"postEmptyState\") ? \"imageListFlex\" : \"\"}\n    >\n      {ConfigStore.myPosts === \"Not Found\" ? (\n        <div className=\"postEmptyState\">\n          <ReceiptLongIcon className=\"postEmptyState__icon\"/>\n          <h2 className=\"errorCase\"> Sorry any posts found</h2>\n      </div>\n      ) : (\n            ConfigStore.myPosts.slice().reverse().map((item) => (\n            <ImageListItem\n              style={{ cursor: \"pointer\" }}\n              key={item._id + Math.random()}\n              onClick={() => navigate(`/post/${item._id}`)}\n            >\n              {item.image && item.video ? (\n                <div className=\"item_video\">\n                  <span className=\"set-icon\">\n                    <VideoLibraryIcon />\n                  </span>\n                  <img\n                    src={`${item.image}`}\n                    alt={item.image}\n                    loading=\"lazy\"\n                    className=\"post\"\n                  />\n                  <video\n                    autoPlay\n                    loop\n                    muted\n                    playsInline\n                    className=\"post\"\n                    style={{ display: \"none\" }}\n                  >\n                    <source src={item.video} />\n                  </video>\n                </div>\n              ) : (\n                <div className=\"item_video\">\n                  {item.image && (\n                    <img\n                      src={`${item.image}`}\n                      srcSet={`${item.image}`}\n                      alt={item.image}\n                      loading=\"lazy\"\n                      className=\"post\"\n                    />\n                  )}\n                  {item.video && (\n                    <video autoPlay loop muted playsInline className=\"post\">\n                      <source src={`${item.video}`} />\n                    </video>\n                  )}\n                </div>\n              )}\n            </ImageListItem>\n          ))\n        )}\n      </ImageList>\n    </div>\n  );\n});\n\nexport default ProfilePosts;\n"],"mappings":"kJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAuB,kBAAkB,CAC7D,MAAO,CAAAC,SAAS,KAA2B,yBAAyB,CACpE,MAAO,CAAAC,aAAa,KAAuB,6BAA6B,CACxE,MAAO,CAAAC,KAAK,KAA+B,qBAAqB,CAChE,OAASC,MAAM,KAA4B,sBAAsB,CACjE,OAASC,QAAQ,KAA0B,YAAY,CACvD,OAASC,SAAS,KAAyB,2BAA2B,CACtE,MAAO,CAAAC,eAAe,KAAqB,iCAAiC,CAC5E,MAAO,CAAAC,gBAAgB,KAAoB,kCAAkC,CAC7E,MAAO,6CAA6C,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErD,GAAM,CAAAC,YAAY,CAAGR,QAAQ,CAAC,SAACS,KAAK,CAAK,CACvC,IAAAC,UAAA,CAAuCT,SAAS,CAAC,CAAC,CAA1CU,aAAa,CAAAD,UAAA,CAAbC,aAAa,CAAEC,WAAW,CAAAF,UAAA,CAAXE,WAAW,CAElC,GAAQ,CAAAC,IAAI,CAAKJ,KAAK,CAAdI,IAAI,CAEZ,GAAM,CAAAC,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAoB,KAAK,CAAGhB,MAAM,CAACD,KAAK,CAAC,CAAC,SAAAkB,IAAA,KAAG,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,QAAAC,aAAA,CAAAA,aAAA,EAClCC,eAAe,CAAEF,KAAK,CAACG,OAAO,CAACC,IAAI,GAAK,MAAM,CAAG,SAAS,CAAG,MAAM,EAChEJ,KAAK,CAACK,UAAU,CAACC,KAAK,MACzBC,OAAO,CAAEP,KAAK,CAACQ,OAAO,CAAC,GAAG,CAAC,CAC3BC,SAAS,CAAE,QAAQ,CACnBC,KAAK,CAAEV,KAAK,CAACG,OAAO,CAACQ,IAAI,CAACC,SAAS,CACnCC,sBAAsB,CAAE,CAAC,CACzBC,uBAAuB,CAAE,CAAC,IAC1B,CAAC,CAEHrC,SAAS,CAAC,UAAM,CACd,GAAImB,IAAI,GAAKmB,SAAS,CAAE,CACtB,GAAI,CAAAC,OAAO,CAAC,SAACC,OAAO,CAAEC,OAAO,CAAK,CAChCD,OAAO,CAAC,CAAC,CACX,CAAC,CAAC,CACCE,IAAI,CAAC,UAAM,CACV,MAAO,CAAAzB,aAAa,CAAC0B,KAAK,CACxBzB,WAAW,CAAC0B,GAAG,CAAG,iBAAiB,CAAGzB,IACxC,CAAC,CACH,CAAC,CAAC,CACDuB,IAAI,CAAC,SAACG,OAAO,CAAK,CACjB,GAAIA,OAAO,GAAK,WAAW,CAAE,CAC3B3B,WAAW,CAAC4B,MAAM,CAAC,uBAAuB,CAAC,CAC3C5B,WAAW,CAAC6B,SAAS,CAAC,IAAI,CAAC,CAC7B,CAAC,IAAM,CACL7B,WAAW,CAAC8B,SAAS,CAACH,OAAO,CAAC,CAC9B3B,WAAW,CAAC+B,cAAc,CAAC,KAAK,CAAC,CACnC,CACF,CAAC,CAAC,CACN,CAAC,IAAM,CACL,OACF,CACF,CAAC,CAAE,CAAC9B,IAAI,CAAED,WAAW,CAACgC,WAAW,CAAEhC,WAAW,CAACiC,GAAG,CAAC,CAAC,CAEpD,mBACExC,IAAA,QAAKyC,KAAK,CAAE,CAAEC,YAAY,CAAE,UAAU,CAAEC,KAAK,CAAE,UAAW,CAAE,CAAAC,QAAA,cAC5D5C,IAAA,CAACT,SAAS,EACVsD,IAAI,CAAE,CAAE,CACRJ,KAAK,CAAE,CACPK,MAAM,CAAE,MAAM,CACdC,OAAO,CAAExC,WAAW,CAAC2B,OAAO,GAAK,WAAW,CAAG,MAAM,CAAG,MAAM,CAC9Dc,aAAa,CAAE,QACf,CAAE,CACFC,SAAS,CAAE,CAAC1C,WAAW,CAAC2B,OAAO,CAACgB,QAAQ,CAAC,gBAAgB,CAAC,CAAG,eAAe,CAAG,EAAG,CAAAN,QAAA,CAE/ErC,WAAW,CAAC2B,OAAO,GAAK,WAAW,cAClChC,KAAA,QAAK+C,SAAS,CAAC,gBAAgB,CAAAL,QAAA,eAC7B5C,IAAA,CAACH,eAAe,EAACoD,SAAS,CAAC,sBAAsB,CAAC,CAAC,cACnDjD,IAAA,OAAIiD,SAAS,CAAC,WAAW,CAAAL,QAAA,CAAC,wBAAsB,CAAI,CAAC,EACpD,CAAC,CAEArC,WAAW,CAAC2B,OAAO,CAACiB,KAAK,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,GAAG,CAAC,SAACC,IAAI,qBAC/CtD,IAAA,CAACR,aAAa,EACZiD,KAAK,CAAE,CAAEc,MAAM,CAAE,SAAU,CAAE,CAE7BC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA/C,QAAQ,UAAAgD,MAAA,CAAUH,IAAI,CAACI,GAAG,CAAE,CAAC,EAAC,CAAAd,QAAA,CAE5CU,IAAI,CAACK,KAAK,EAAIL,IAAI,CAACM,KAAK,cACvB1D,KAAA,QAAK+C,SAAS,CAAC,YAAY,CAAAL,QAAA,eACzB5C,IAAA,SAAMiD,SAAS,CAAC,UAAU,CAAAL,QAAA,cACxB5C,IAAA,CAACF,gBAAgB,GAAE,CAAC,CAChB,CAAC,cACPE,IAAA,QACE6D,GAAG,IAAAJ,MAAA,CAAKH,IAAI,CAACK,KAAK,CAAG,CACrBG,GAAG,CAAER,IAAI,CAACK,KAAM,CAChBI,OAAO,CAAC,MAAM,CACdd,SAAS,CAAC,MAAM,CACjB,CAAC,cACFjD,IAAA,UACEgE,QAAQ,MACRC,IAAI,MACJC,KAAK,MACLC,WAAW,MACXlB,SAAS,CAAC,MAAM,CAChBR,KAAK,CAAE,CAAEM,OAAO,CAAE,MAAO,CAAE,CAAAH,QAAA,cAE3B5C,IAAA,WAAQ6D,GAAG,CAAEP,IAAI,CAACM,KAAM,CAAE,CAAC,CACtB,CAAC,EACL,CAAC,cAEN1D,KAAA,QAAK+C,SAAS,CAAC,YAAY,CAAAL,QAAA,EACxBU,IAAI,CAACK,KAAK,eACT3D,IAAA,QACE6D,GAAG,IAAAJ,MAAA,CAAKH,IAAI,CAACK,KAAK,CAAG,CACrBS,MAAM,IAAAX,MAAA,CAAKH,IAAI,CAACK,KAAK,CAAG,CACxBG,GAAG,CAAER,IAAI,CAACK,KAAM,CAChBI,OAAO,CAAC,MAAM,CACdd,SAAS,CAAC,MAAM,CACjB,CACF,CACAK,IAAI,CAACM,KAAK,eACT5D,IAAA,UAAOgE,QAAQ,MAACC,IAAI,MAACC,KAAK,MAACC,WAAW,MAAClB,SAAS,CAAC,MAAM,CAAAL,QAAA,cACrD5C,IAAA,WAAQ6D,GAAG,IAAAJ,MAAA,CAAKH,IAAI,CAACM,KAAK,CAAG,CAAE,CAAC,CAC3B,CACR,EACE,CACN,EA1CIN,IAAI,CAACI,GAAG,CAAGW,IAAI,CAACC,MAAM,CAAC,CA2Cf,CAAC,EACjB,CACF,CACQ,CAAC,CACT,CAAC,CAEV,CAAC,CAAC,CAEF,cAAe,CAAAnE,YAAY"},"metadata":{},"sourceType":"module"}