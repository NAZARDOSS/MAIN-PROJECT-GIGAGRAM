{"ast":null,"code":"import _slicedToArray from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import{useNavigate,useParams}from\"react-router-dom\";import Box from'@mui/joy/Box';import Button from'@mui/joy/Button';import Divider from'@mui/joy/Divider';import Modal from'@mui/joy/Modal';import ModalDialog from'@mui/joy/ModalDialog';import DeleteForever from'@mui/icons-material/DeleteForever';import WarningRoundedIcon from'@mui/icons-material/WarningRounded';import Typography from'@mui/joy/Typography';import{observer}from'mobx-react';import{useStores}from'../../../stores/MainStore';import SentimentDissatisfiedIcon from'@mui/icons-material/SentimentDissatisfied';import MoodIcon from'@mui/icons-material/Mood';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DeleteAcc=observer(function(){var _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;var _React$useState=React.useState(\"Are you sure you want to delete your account?\"),_React$useState2=_slicedToArray(_React$useState,2),modalInfo=_React$useState2[0],setModalInfo=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),open=_React$useState4[0],setOpen=_React$useState4[1];var navigate=useNavigate();var handleDeleteMe=function handleDeleteMe(){new Promise(function(resolve,rejects){resolve();}).then(function(){return RequestsStore.doDelete(ConfigStore.url+\"/me\");}).then(function(resp){resp.deleted?(setOpen(false),navigate(\"/signin\")):setModalInfo(\"Sorry, can not delete your account\");});};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},enddecorator:/*#__PURE__*/_jsx(DeleteForever,{}),onClick:function onClick(){return setOpen(true);},children:\"Delete account\"}),/*#__PURE__*/_jsx(Modal,{open:open,onClose:function onClose(){return setOpen(false);},children:/*#__PURE__*/_jsxs(ModalDialog,{variant:\"outlined\",role:\"alertdialog\",\"aria-labelledby\":\"alert-dialog-modal-title\",\"aria-describedby\":\"alert-dialog-modal-description\",children:[/*#__PURE__*/_jsx(Typography,{id:\"alert-dialog-modal-title\",component:\"h2\",startDecorator:/*#__PURE__*/_jsx(WarningRoundedIcon,{}),children:\"Confirmation\"}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Typography,{id:\"alert-dialog-modal-description\",textColor:\"text.tertiary\",children:modalInfo}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,justifyContent:'flex-end',pt:2},children:[/*#__PURE__*/_jsxs(Button,{variant:\"plain\",color:\"neutral\",onClick:function onClick(){return setOpen(false);},children:[\"No \",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"5px\"},children:/*#__PURE__*/_jsx(MoodIcon,{})})]}),/*#__PURE__*/_jsxs(Button,{variant:\"solid\",color:\"danger\",onClick:handleDeleteMe,children:[\"Yes \",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"5px\"},children:/*#__PURE__*/_jsx(SentimentDissatisfiedIcon,{})})]})]})]})})]});});export default DeleteAcc;","map":{"version":3,"names":["React","useNavigate","useParams","Box","Button","Divider","Modal","ModalDialog","DeleteForever","WarningRoundedIcon","Typography","observer","useStores","SentimentDissatisfiedIcon","MoodIcon","jsx","_jsx","jsxs","_jsxs","DeleteAcc","_useStores","RequestsStore","ConfigStore","_React$useState","useState","_React$useState2","_slicedToArray","modalInfo","setModalInfo","_React$useState3","_React$useState4","open","setOpen","navigate","handleDeleteMe","Promise","resolve","rejects","then","doDelete","url","resp","deleted","Fragment","children","style","color","enddecorator","onClick","onClose","variant","role","id","component","startDecorator","textColor","sx","display","gap","justifyContent","pt","marginLeft"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/partial/modal/DeleteAcc.jsx"],"sourcesContent":["import * as React                   from 'react';\nimport { useNavigate, useParams }   from \"react-router-dom\";\nimport Box                          from '@mui/joy/Box';\nimport Button                       from '@mui/joy/Button';\nimport Divider                      from '@mui/joy/Divider';\nimport Modal                        from '@mui/joy/Modal';\nimport ModalDialog                  from '@mui/joy/ModalDialog';\nimport DeleteForever                from '@mui/icons-material/DeleteForever';\nimport WarningRoundedIcon           from '@mui/icons-material/WarningRounded';\nimport Typography                   from '@mui/joy/Typography';\nimport { observer }                 from 'mobx-react';\nimport { useStores }                from '../../../stores/MainStore';\nimport SentimentDissatisfiedIcon from '@mui/icons-material/SentimentDissatisfied';\nimport MoodIcon from '@mui/icons-material/Mood';\n\nconst DeleteAcc = observer(() => {\n\n  const { RequestsStore, ConfigStore } = useStores();\n\n  const [modalInfo, setModalInfo] = React.useState(\"Are you sure you want to delete your account?\");\n  const [open, setOpen] = React.useState(false);\n\n  const navigate = useNavigate();\n\n    const handleDeleteMe = () => {\n      new Promise((resolve, rejects) => {\n        resolve();\n      })\n      .then(() => {\n        return RequestsStore.doDelete(ConfigStore.url + \"/me\");\n      })\n      .then((resp) => {\n        resp.deleted ? (\n          setOpen(false),\n          navigate(\"/signin\")\n        ) : (\n          setModalInfo(\"Sorry, can not delete your account\")\n        )\n      })\n    };\n\n  return (\n    <React.Fragment>\n      <span\n        style={{color: \"red\"}}\n        enddecorator={<DeleteForever />}\n        onClick={() => setOpen(true)}\n      >\n        Delete account\n      </span>\n      <Modal open={open} onClose={() => setOpen(false)}>\n        <ModalDialog\n          variant=\"outlined\"\n          role=\"alertdialog\"\n          aria-labelledby=\"alert-dialog-modal-title\"\n          aria-describedby=\"alert-dialog-modal-description\"\n        >\n          <Typography\n            id=\"alert-dialog-modal-title\"\n            component=\"h2\"\n            startDecorator={<WarningRoundedIcon />}\n          >\n            Confirmation\n          </Typography>\n          <Divider />\n          <Typography id=\"alert-dialog-modal-description\" textColor=\"text.tertiary\">\n            {modalInfo}\n          </Typography>\n          <Box sx={{ display: 'flex', gap: 1, justifyContent: 'flex-end', pt: 2 }}>\n            <Button variant=\"plain\" color=\"neutral\" onClick={() => setOpen(false)}>\n              No <span style={{marginLeft: \"5px\"}}><MoodIcon /></span>\n            </Button>\n            <Button variant=\"solid\" color=\"danger\" onClick={handleDeleteMe}>\n              Yes <span style={{marginLeft: \"5px\"}}><SentimentDissatisfiedIcon/></span>\n            </Button>\n          </Box>\n        </ModalDialog>\n      </Modal>\n    </React.Fragment>\n  );\n});\n\nexport default DeleteAcc;"],"mappings":"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"},"metadata":{},"sourceType":"module"}