{"ast":null,"code":"import*as React from\"react\";import{Typography,Button,CardHeader,CardMedia,CardContent,CardActions,Card,Box}from\"@mui/material\";import AliceCarousel from\"react-alice-carousel\";import\"react-alice-carousel/lib/alice-carousel.css\";import{useNavigate}from\"react-router-dom\";import FavoriteIcon from\"@mui/icons-material/Favorite\";import Avatar from\"@mui/joy/Avatar\";import AvatarGroup from\"@mui/joy/AvatarGroup\";import{useStores}from\"../../../stores/MainStore\";import Like from\"../../partial/like/Like\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostCard(props){var _useStores=useStores(),ConfigStore=_useStores.ConfigStore;var item=props.item;var navigate=useNavigate();var clampAvatars=React.useCallback(function(avatars){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{max:5};var _options$max=options.max,max=_options$max===void 0?5:_options$max,total=options.total;var clampedMax=max<2?2:max;var totalAvatars=total||avatars.length;if(totalAvatars===clampedMax){clampedMax+=1;}clampedMax=Math.min(totalAvatars+1,clampedMax);var maxAvatars=Math.min(avatars.length,clampedMax-1);var surplus=Math.max(totalAvatars-clampedMax,totalAvatars-maxAvatars,0);return{avatars:avatars.slice(0,maxAvatars).reverse(),surplus:surplus};},[]);var _clampAvatars=clampAvatars(item.likes,{max:4,total:item.likes.length}),avatars=_clampAvatars.avatars,surplus=_clampAvatars.surplus;return/*#__PURE__*/_jsxs(Card,{className:\"postCard\",sx:{width:600,borderRadius:\"25px\",boxShadow:\"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\"},children:[/*#__PURE__*/_jsx(CardHeader,{avatar:/*#__PURE__*/_jsx(Avatar,{onClick:function onClick(){return navigate(\"/user/\".concat(item.user[0].username));},className:\"user__avatar\",src:item&&item.user[0]?item.user[0].avatar:\"some defaul src\",alt:\"my avatar\",sx:{width:60,height:60},\"aria-label\":\"recipe\"}),title:item&&item.user[0]?item.user[0].username:\"some defaul src\"}),item.video&&item.video!==\"any\"?/*#__PURE__*/_jsx(CardMedia,{component:\"video\",image:item.video,autoPlay:true,loop:true,muted:true,playsInline:true,style:{objectFit:\"contain\",width:\"100%\"}}):/*#__PURE__*/_jsx(CardMedia,{component:\"img\",image:item.image,style:{objectFit:\"contain\",width:\"100%\"}}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",children:item.title}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:item.description})]}),/*#__PURE__*/_jsxs(CardActions,{style:{display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsxs(Box,{style:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(Like,{like_id:item._id,userLikes:item.likes}),/*#__PURE__*/_jsxs(AvatarGroup,{sx:{ml:2},children:[avatars.map(function(element,index){return/*#__PURE__*/_jsx(Avatar,{src:ConfigStore.url+\"/avatar/\"+element.fromUser},index+Math.random());}),!!surplus&&/*#__PURE__*/_jsxs(Avatar,{children:[\"+\",surplus]})]})]}),/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:function onClick(){return navigate(\"/post/\".concat(item._id));},children:\"Learn More\"})]})]},item._id);}","map":{"version":3,"names":["React","Typography","Button","CardHeader","CardMedia","CardContent","CardActions","Card","Box","AliceCarousel","useNavigate","FavoriteIcon","Avatar","AvatarGroup","useStores","Like","jsx","_jsx","jsxs","_jsxs","PostCard","props","_useStores","ConfigStore","item","navigate","clampAvatars","useCallback","avatars","options","arguments","length","undefined","max","_options$max","total","clampedMax","totalAvatars","Math","min","maxAvatars","surplus","slice","reverse","_clampAvatars","likes","className","sx","width","borderRadius","boxShadow","children","avatar","onClick","concat","user","username","src","alt","height","title","video","component","image","autoPlay","loop","muted","playsInline","style","objectFit","gutterBottom","variant","color","description","display","justifyContent","alignItems","like_id","_id","userLikes","ml","map","element","index","url","fromUser","random","size"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/private/feed/PostCard.jsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  Typography,\n  Button,\n  CardHeader,\n  CardMedia,\n  CardContent,\n  CardActions,\n  Card,\n  Box,\n} from \"@mui/material\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport Avatar from \"@mui/joy/Avatar\";\nimport AvatarGroup from \"@mui/joy/AvatarGroup\";\nimport { useStores } from \"../../../stores/MainStore\";\nimport Like from \"../../partial/like/Like\";\n\nexport default function PostCard(props) {\n  const { ConfigStore } = useStores();\n\n  const item = props.item;\n  const navigate = useNavigate();\n\n  const clampAvatars = React.useCallback((avatars, options = { max: 5 }) => {\n    const { max = 5, total } = options;\n    let clampedMax = max < 2 ? 2 : max;\n    const totalAvatars = total || avatars.length;\n    if (totalAvatars === clampedMax) {\n      clampedMax += 1;\n    }\n    clampedMax = Math.min(totalAvatars + 1, clampedMax);\n    const maxAvatars = Math.min(avatars.length, clampedMax - 1);\n    const surplus = Math.max(\n      totalAvatars - clampedMax,\n      totalAvatars - maxAvatars,\n      0\n    );\n    return { avatars: avatars.slice(0, maxAvatars).reverse(), surplus };\n  }, []);\n\n  const { avatars, surplus } = clampAvatars(item.likes, {\n    max: 4,\n    total: item.likes.length,\n  });\n\n  return (\n    <Card\n      className=\"postCard\"\n      sx={{\n        width: 600,\n        borderRadius: \"25px\",\n        boxShadow:\n          \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\n      }}\n      key={item._id}\n    >\n      <CardHeader\n        avatar={\n          <Avatar\n            onClick={() => navigate(`/user/${item.user[0].username}`)}\n            className=\"user__avatar\"\n            src={item && item.user[0] ? item.user[0].avatar : \"some defaul src\"}\n            alt=\"my avatar\"\n            sx={{ width: 60, height: 60 }}\n            aria-label=\"recipe\"\n          ></Avatar>\n        }\n        title={item && item.user[0] ? item.user[0].username : \"some defaul src\"}\n      />\n      {item.video && item.video !== \"any\" ? (\n        <CardMedia\n          component=\"video\"\n          image={item.video}\n          autoPlay\n          loop\n          muted\n          playsInline\n          style={{\n            objectFit: \"contain\",\n            width: \"100%\",\n          }}\n        />\n      ) : (\n        <CardMedia\n          component=\"img\"\n          image={item.image}\n          style={{\n            objectFit: \"contain\",\n            width: \"100%\",\n          }}\n        />\n      )}\n      <CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"div\">\n          {item.title}\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {item.description}\n        </Typography>\n      </CardContent>\n      <CardActions style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <Box style={{ display: \"flex\", alignItems: \"center\" }}>\n          <Like like_id={item._id} userLikes={item.likes} />\n          <AvatarGroup sx={{ ml: 2 }}>\n            {avatars.map((element, index) => (\n              <Avatar\n                key={index + Math.random()}\n                src={ConfigStore.url + \"/avatar/\" + element.fromUser}\n              />\n            ))}\n            {!!surplus && <Avatar>+{surplus}</Avatar>}\n          </AvatarGroup>\n        </Box>\n        <Button size=\"small\" onClick={() => navigate(`/post/${item._id}`)}>\n          Learn More\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n"],"mappings":"AAAA,MAAO,GAAK,CAAAA,KAAK,KAAM,OAAO,CAC9B,OACEC,UAAU,CACVC,MAAM,CACNC,UAAU,CACVC,SAAS,CACTC,WAAW,CACXC,WAAW,CACXC,IAAI,CACJC,GAAG,KACE,eAAe,CACtB,MAAO,CAAAC,aAAa,KAAM,sBAAsB,CAChD,MAAO,6CAA6C,CACpD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,MAAO,CAAAC,WAAW,KAAM,sBAAsB,CAC9C,OAASC,SAAS,KAAQ,2BAA2B,CACrD,MAAO,CAAAC,IAAI,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3C,cAAe,SAAS,CAAAC,QAAQA,CAACC,KAAK,CAAE,CACtC,IAAAC,UAAA,CAAwBR,SAAS,CAAC,CAAC,CAA3BS,WAAW,CAAAD,UAAA,CAAXC,WAAW,CAEnB,GAAM,CAAAC,IAAI,CAAGH,KAAK,CAACG,IAAI,CACvB,GAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAgB,YAAY,CAAG1B,KAAK,CAAC2B,WAAW,CAAC,SAACC,OAAO,CAA2B,IAAzB,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAEG,GAAG,CAAE,CAAE,CAAC,CACnE,IAAAC,YAAA,CAA2BL,OAAO,CAA1BI,GAAG,CAAHA,GAAG,CAAAC,YAAA,UAAG,CAAC,CAAAA,YAAA,CAAEC,KAAK,CAAKN,OAAO,CAAjBM,KAAK,CACtB,GAAI,CAAAC,UAAU,CAAGH,GAAG,CAAG,CAAC,CAAG,CAAC,CAAGA,GAAG,CAClC,GAAM,CAAAI,YAAY,CAAGF,KAAK,EAAIP,OAAO,CAACG,MAAM,CAC5C,GAAIM,YAAY,GAAKD,UAAU,CAAE,CAC/BA,UAAU,EAAI,CAAC,CACjB,CACAA,UAAU,CAAGE,IAAI,CAACC,GAAG,CAACF,YAAY,CAAG,CAAC,CAAED,UAAU,CAAC,CACnD,GAAM,CAAAI,UAAU,CAAGF,IAAI,CAACC,GAAG,CAACX,OAAO,CAACG,MAAM,CAAEK,UAAU,CAAG,CAAC,CAAC,CAC3D,GAAM,CAAAK,OAAO,CAAGH,IAAI,CAACL,GAAG,CACtBI,YAAY,CAAGD,UAAU,CACzBC,YAAY,CAAGG,UAAU,CACzB,CACF,CAAC,CACD,MAAO,CAAEZ,OAAO,CAAEA,OAAO,CAACc,KAAK,CAAC,CAAC,CAAEF,UAAU,CAAC,CAACG,OAAO,CAAC,CAAC,CAAEF,OAAO,CAAPA,OAAQ,CAAC,CACrE,CAAC,CAAE,EAAE,CAAC,CAEN,IAAAG,aAAA,CAA6BlB,YAAY,CAACF,IAAI,CAACqB,KAAK,CAAE,CACpDZ,GAAG,CAAE,CAAC,CACNE,KAAK,CAAEX,IAAI,CAACqB,KAAK,CAACd,MACpB,CAAC,CAAC,CAHMH,OAAO,CAAAgB,aAAA,CAAPhB,OAAO,CAAEa,OAAO,CAAAG,aAAA,CAAPH,OAAO,CAKxB,mBACEtB,KAAA,CAACZ,IAAI,EACHuC,SAAS,CAAC,UAAU,CACpBC,EAAE,CAAE,CACFC,KAAK,CAAE,GAAG,CACVC,YAAY,CAAE,MAAM,CACpBC,SAAS,CACP,iFACJ,CAAE,CAAAC,QAAA,eAGFlC,IAAA,CAACd,UAAU,EACTiD,MAAM,cACJnC,IAAA,CAACL,MAAM,EACLyC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA5B,QAAQ,UAAA6B,MAAA,CAAU9B,IAAI,CAAC+B,IAAI,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAE,CAAC,EAAC,CAC1DV,SAAS,CAAC,cAAc,CACxBW,GAAG,CAAEjC,IAAI,EAAIA,IAAI,CAAC+B,IAAI,CAAC,CAAC,CAAC,CAAG/B,IAAI,CAAC+B,IAAI,CAAC,CAAC,CAAC,CAACH,MAAM,CAAG,iBAAkB,CACpEM,GAAG,CAAC,WAAW,CACfX,EAAE,CAAE,CAAEC,KAAK,CAAE,EAAE,CAAEW,MAAM,CAAE,EAAG,CAAE,CAC9B,aAAW,QAAQ,CACZ,CACV,CACDC,KAAK,CAAEpC,IAAI,EAAIA,IAAI,CAAC+B,IAAI,CAAC,CAAC,CAAC,CAAG/B,IAAI,CAAC+B,IAAI,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAG,iBAAkB,CACzE,CAAC,CACDhC,IAAI,CAACqC,KAAK,EAAIrC,IAAI,CAACqC,KAAK,GAAK,KAAK,cACjC5C,IAAA,CAACb,SAAS,EACR0D,SAAS,CAAC,OAAO,CACjBC,KAAK,CAAEvC,IAAI,CAACqC,KAAM,CAClBG,QAAQ,MACRC,IAAI,MACJC,KAAK,MACLC,WAAW,MACXC,KAAK,CAAE,CACLC,SAAS,CAAE,SAAS,CACpBrB,KAAK,CAAE,MACT,CAAE,CACH,CAAC,cAEF/B,IAAA,CAACb,SAAS,EACR0D,SAAS,CAAC,KAAK,CACfC,KAAK,CAAEvC,IAAI,CAACuC,KAAM,CAClBK,KAAK,CAAE,CACLC,SAAS,CAAE,SAAS,CACpBrB,KAAK,CAAE,MACT,CAAE,CACH,CACF,cACD7B,KAAA,CAACd,WAAW,EAAA8C,QAAA,eACVlC,IAAA,CAAChB,UAAU,EAACqE,YAAY,MAACC,OAAO,CAAC,IAAI,CAACT,SAAS,CAAC,KAAK,CAAAX,QAAA,CAClD3B,IAAI,CAACoC,KAAK,CACD,CAAC,cACb3C,IAAA,CAAChB,UAAU,EAACsE,OAAO,CAAC,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAArB,QAAA,CAC/C3B,IAAI,CAACiD,WAAW,CACP,CAAC,EACF,CAAC,cACdtD,KAAA,CAACb,WAAW,EAAC8D,KAAK,CAAE,CAAEM,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAgB,CAAE,CAAAxB,QAAA,eACvEhC,KAAA,CAACX,GAAG,EAAC4D,KAAK,CAAE,CAAEM,OAAO,CAAE,MAAM,CAAEE,UAAU,CAAE,QAAS,CAAE,CAAAzB,QAAA,eACpDlC,IAAA,CAACF,IAAI,EAAC8D,OAAO,CAAErD,IAAI,CAACsD,GAAI,CAACC,SAAS,CAAEvD,IAAI,CAACqB,KAAM,CAAE,CAAC,cAClD1B,KAAA,CAACN,WAAW,EAACkC,EAAE,CAAE,CAAEiC,EAAE,CAAE,CAAE,CAAE,CAAA7B,QAAA,EACxBvB,OAAO,CAACqD,GAAG,CAAC,SAACC,OAAO,CAAEC,KAAK,qBAC1BlE,IAAA,CAACL,MAAM,EAEL6C,GAAG,CAAElC,WAAW,CAAC6D,GAAG,CAAG,UAAU,CAAGF,OAAO,CAACG,QAAS,EADhDF,KAAK,CAAG7C,IAAI,CAACgD,MAAM,CAAC,CAE1B,CAAC,EACH,CAAC,CACD,CAAC,CAAC7C,OAAO,eAAItB,KAAA,CAACP,MAAM,EAAAuC,QAAA,EAAC,GAAC,CAACV,OAAO,EAAS,CAAC,EAC9B,CAAC,EACX,CAAC,cACNxB,IAAA,CAACf,MAAM,EAACqF,IAAI,CAAC,OAAO,CAAClC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA5B,QAAQ,UAAA6B,MAAA,CAAU9B,IAAI,CAACsD,GAAG,CAAE,CAAC,EAAC,CAAA3B,QAAA,CAAC,YAEnE,CAAQ,CAAC,EACE,CAAC,GA9DT3B,IAAI,CAACsD,GA+DN,CAAC,CAEX"},"metadata":{},"sourceType":"module"}