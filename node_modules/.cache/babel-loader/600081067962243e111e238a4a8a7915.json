{"ast":null,"code":"import _slicedToArray from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{Box,Card,Avatar,CardMedia,CardHeader}from\"@mui/material\";import{observer}from\"mobx-react\";import{useStores}from\"../../../stores/MainStore\";// eslint-disable-next-line no-unused-vars\nimport PostStyle from\"./postid.scss\";import DeletePost from\"../../partial/modal/DeletePost\";import AliceCarousel from\"react-alice-carousel\";import ErrorModal from\"../../partial/modal/ErrorModal\";import Footer from\"../../partial/footer/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PostId=observer(function(){var navigate=useNavigate();var _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;var _useParams=useParams(),id=_useParams.id;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),post=_React$useState2[0],setPost=_React$useState2[1];React.useEffect(function(){new Promise(function(resolve,rejects){resolve();}).then(function(){return RequestsStore.doGet(ConfigStore.url+\"/post/\"+id);}).then(function(data){if(data===\"Forbidden\"){ConfigStore.setErr(\"Token has been burned\");ConfigStore.setIsShow(true);}else{setPost(data);}});},[id]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"postId\",style:{background:\"url(\".concat(post.image,\")\")},children:[!post?/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:\"Loading...\"}):/*#__PURE__*/_jsxs(Card,{className:\"main__postid\",sx:{maxWidth:600,boxShadow:1,borderRadius:5,p:2,minWidth:300},children:[/*#__PURE__*/_jsx(CardHeader,{className:\"post__info\",avatar:/*#__PURE__*/_jsx(Avatar,{onClick:function onClick(){return navigate(\"/user/\".concat(post.author.username));},className:\"user__avatar\",src:post.author.avatar,alt:\"my avatar\",style:{width:'60px',height:'60px'},\"aria-label\":\"recipe\"}),action:/*#__PURE__*/_jsx(Box,{sx:{m:2},style:post.author.username===ConfigStore.me.username?{display:\"block\"}:{display:\"none\"},children:/*#__PURE__*/_jsx(DeletePost,{sx:{m:2}})}),title:post.title,subheader:post.description}),/*#__PURE__*/_jsx(CardMedia,{className:\"posts__container\",children:post.image&&post.video?/*#__PURE__*/_jsxs(AliceCarousel,{className:\"blog-post__img\",children:[/*#__PURE__*/_jsx(\"img\",{src:post.image,alt:post.image}),/*#__PURE__*/_jsx(\"video\",{autoPlay:true,loop:true,muted:true,playsInline:true,className:\"container__video\",children:/*#__PURE__*/_jsx(\"source\",{src:post.video})})]}):post.image?/*#__PURE__*/_jsx(\"img\",{src:post.image,alt:\"\",className:\"container__img\"}):/*#__PURE__*/_jsx(\"video\",{autoPlay:true,loop:true,muted:true,playsInline:true,className:\"container__video\",children:/*#__PURE__*/_jsx(\"source\",{src:post.video})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg_blur\"})]}),/*#__PURE__*/_jsx(ErrorModal,{}),/*#__PURE__*/_jsx(Footer,{})]});});export default PostId;","map":{"version":3,"names":["React","useParams","useNavigate","Box","Card","Avatar","CardMedia","CardHeader","observer","useStores","PostStyle","DeletePost","AliceCarousel","ErrorModal","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PostId","navigate","_useStores","RequestsStore","ConfigStore","_useParams","id","_React$useState","useState","_React$useState2","_slicedToArray","post","setPost","useEffect","Promise","resolve","rejects","then","doGet","url","data","setErr","setIsShow","children","className","style","background","concat","image","sx","maxWidth","boxShadow","borderRadius","p","minWidth","avatar","onClick","author","username","src","alt","width","height","action","m","me","display","title","subheader","description","video","autoPlay","loop","muted","playsInline"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/private/postId/PostId.jsx"],"sourcesContent":["import * as React from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { Box, Card, Avatar, CardMedia, CardHeader } from \"@mui/material\";\nimport { observer } from \"mobx-react\";\nimport { useStores } from \"../../../stores/MainStore\";\n// eslint-disable-next-line no-unused-vars\nimport PostStyle from \"./postid.scss\";\nimport DeletePost from \"../../partial/modal/DeletePost\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport ErrorModal from \"../../partial/modal/ErrorModal\";\nimport Footer     from \"../../partial/footer/Footer\"\n\nconst PostId = observer(() => {\n  const navigate = useNavigate();\n\n  const { RequestsStore, ConfigStore } = useStores();\n\n  const { id } = useParams();\n\n  const [post, setPost] = React.useState(\"\");\n\n  React.useEffect(() => {\n    new Promise((resolve, rejects) => {\n      resolve();\n    })\n      .then(() => {\n        return RequestsStore.doGet(ConfigStore.url + \"/post/\" + id);\n      })\n      .then((data) => {\n        if (data === \"Forbidden\") {\n          ConfigStore.setErr(\"Token has been burned\");\n          ConfigStore.setIsShow(true);\n        } else {\n          setPost(data);\n        }\n      });\n  }, [id]);\n\n  return (\n    <>\n      <div\n        className=\"postId\"\n        style={{\n          background: `url(${post.image})`,\n        }}\n      >\n        {!post ? (\n          <div className=\"loader\">Loading...</div>\n        ) : (\n          <Card\n            className=\"main__postid\"\n            sx={{\n              maxWidth: 600,\n              boxShadow: 1,\n              borderRadius: 5,\n              p: 2,\n              minWidth: 300,\n            }}\n          >\n            <CardHeader\n              className=\"post__info\"\n              avatar={\n                <Avatar\n                  onClick={() => navigate(`/user/${post.author.username}`)}\n                  className=\"user__avatar\"\n                  src={post.author.avatar}\n                  alt=\"my avatar\"\n                  style={{width: '60px', height: '60px'}}\n                  aria-label=\"recipe\"\n                ></Avatar>\n              }\n              action={\n                <Box\n                  sx={{ m: 2 }}\n                  style={\n                    post.author.username === ConfigStore.me.username\n                      ? { display: \"block\" }\n                      : { display: \"none\" }\n                  }\n                >\n                  <DeletePost sx={{ m: 2 }} />\n                </Box>\n              }\n              title={post.title}\n              subheader={post.description}\n            />\n            <CardMedia className=\"posts__container\">\n              {post.image && post.video ? (\n                <AliceCarousel className=\"blog-post__img\">\n                  <img src={post.image} alt={post.image} />\n                  <video autoPlay loop muted playsInline className=\"container__video\">\n                    <source src={post.video} />\n                  </video>\n                </AliceCarousel>\n              ) : post.image ? (\n                <img src={post.image} alt=\"\" className=\"container__img\" />\n              ) : (\n                <video autoPlay loop muted playsInline className=\"container__video\">\n                  <source src={post.video} />\n                </video>\n              )}\n            </CardMedia>\n          </Card>\n        )}\n        <div className=\"bg_blur\"></div>\n      </div>\n      <ErrorModal />\n      <Footer />\n    </>\n  );\n});\nexport default PostId;\n"],"mappings":"mJAAA,MAAO,GAAK,CAAAA,KAAK,KAAM,OAAO,CAC9B,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,GAAG,CAAEC,IAAI,CAAEC,MAAM,CAAEC,SAAS,CAAEC,UAAU,KAAQ,eAAe,CACxE,OAASC,QAAQ,KAAQ,YAAY,CACrC,OAASC,SAAS,KAAQ,2BAA2B,CACrD;AACA,MAAO,CAAAC,SAAS,KAAM,eAAe,CACrC,MAAO,CAAAC,UAAU,KAAM,gCAAgC,CACvD,MAAO,CAAAC,aAAa,KAAM,sBAAsB,CAChD,MAAO,CAAAC,UAAU,KAAM,gCAAgC,CACvD,MAAO,CAAAC,MAAM,KAAU,6BAA6B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEpD,GAAM,CAAAC,MAAM,CAAGb,QAAQ,CAAC,UAAM,CAC5B,GAAM,CAAAc,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAE9B,IAAAqB,UAAA,CAAuCd,SAAS,CAAC,CAAC,CAA1Ce,aAAa,CAAAD,UAAA,CAAbC,aAAa,CAAEC,WAAW,CAAAF,UAAA,CAAXE,WAAW,CAElC,IAAAC,UAAA,CAAezB,SAAS,CAAC,CAAC,CAAlB0B,EAAE,CAAAD,UAAA,CAAFC,EAAE,CAEV,IAAAC,eAAA,CAAwB5B,KAAK,CAAC6B,QAAQ,CAAC,EAAE,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAAnCI,IAAI,CAAAF,gBAAA,IAAEG,OAAO,CAAAH,gBAAA,IAEpB9B,KAAK,CAACkC,SAAS,CAAC,UAAM,CACpB,GAAI,CAAAC,OAAO,CAAC,SAACC,OAAO,CAAEC,OAAO,CAAK,CAChCD,OAAO,CAAC,CAAC,CACX,CAAC,CAAC,CACCE,IAAI,CAAC,UAAM,CACV,MAAO,CAAAd,aAAa,CAACe,KAAK,CAACd,WAAW,CAACe,GAAG,CAAG,QAAQ,CAAGb,EAAE,CAAC,CAC7D,CAAC,CAAC,CACDW,IAAI,CAAC,SAACG,IAAI,CAAK,CACd,GAAIA,IAAI,GAAK,WAAW,CAAE,CACxBhB,WAAW,CAACiB,MAAM,CAAC,uBAAuB,CAAC,CAC3CjB,WAAW,CAACkB,SAAS,CAAC,IAAI,CAAC,CAC7B,CAAC,IAAM,CACLV,OAAO,CAACQ,IAAI,CAAC,CACf,CACF,CAAC,CAAC,CACN,CAAC,CAAE,CAACd,EAAE,CAAC,CAAC,CAER,mBACET,KAAA,CAAAE,SAAA,EAAAwB,QAAA,eACE1B,KAAA,QACE2B,SAAS,CAAC,QAAQ,CAClBC,KAAK,CAAE,CACLC,UAAU,QAAAC,MAAA,CAAShB,IAAI,CAACiB,KAAK,KAC/B,CAAE,CAAAL,QAAA,EAED,CAACZ,IAAI,cACJhB,IAAA,QAAK6B,SAAS,CAAC,QAAQ,CAAAD,QAAA,CAAC,YAAU,CAAK,CAAC,cAExC1B,KAAA,CAACd,IAAI,EACHyC,SAAS,CAAC,cAAc,CACxBK,EAAE,CAAE,CACFC,QAAQ,CAAE,GAAG,CACbC,SAAS,CAAE,CAAC,CACZC,YAAY,CAAE,CAAC,CACfC,CAAC,CAAE,CAAC,CACJC,QAAQ,CAAE,GACZ,CAAE,CAAAX,QAAA,eAEF5B,IAAA,CAACT,UAAU,EACTsC,SAAS,CAAC,YAAY,CACtBW,MAAM,cACJxC,IAAA,CAACX,MAAM,EACLoD,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAnC,QAAQ,UAAA0B,MAAA,CAAUhB,IAAI,CAAC0B,MAAM,CAACC,QAAQ,CAAE,CAAC,EAAC,CACzDd,SAAS,CAAC,cAAc,CACxBe,GAAG,CAAE5B,IAAI,CAAC0B,MAAM,CAACF,MAAO,CACxBK,GAAG,CAAC,WAAW,CACff,KAAK,CAAE,CAACgB,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAE,CACvC,aAAW,QAAQ,CACZ,CACV,CACDC,MAAM,cACJhD,IAAA,CAACb,GAAG,EACF+C,EAAE,CAAE,CAAEe,CAAC,CAAE,CAAE,CAAE,CACbnB,KAAK,CACHd,IAAI,CAAC0B,MAAM,CAACC,QAAQ,GAAKlC,WAAW,CAACyC,EAAE,CAACP,QAAQ,CAC5C,CAAEQ,OAAO,CAAE,OAAQ,CAAC,CACpB,CAAEA,OAAO,CAAE,MAAO,CACvB,CAAAvB,QAAA,cAED5B,IAAA,CAACL,UAAU,EAACuC,EAAE,CAAE,CAAEe,CAAC,CAAE,CAAE,CAAE,CAAE,CAAC,CACzB,CACN,CACDG,KAAK,CAAEpC,IAAI,CAACoC,KAAM,CAClBC,SAAS,CAAErC,IAAI,CAACsC,WAAY,CAC7B,CAAC,cACFtD,IAAA,CAACV,SAAS,EAACuC,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CACpCZ,IAAI,CAACiB,KAAK,EAAIjB,IAAI,CAACuC,KAAK,cACvBrD,KAAA,CAACN,aAAa,EAACiC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eACvC5B,IAAA,QAAK4C,GAAG,CAAE5B,IAAI,CAACiB,KAAM,CAACY,GAAG,CAAE7B,IAAI,CAACiB,KAAM,CAAE,CAAC,cACzCjC,IAAA,UAAOwD,QAAQ,MAACC,IAAI,MAACC,KAAK,MAACC,WAAW,MAAC9B,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cACjE5B,IAAA,WAAQ4C,GAAG,CAAE5B,IAAI,CAACuC,KAAM,CAAE,CAAC,CACtB,CAAC,EACK,CAAC,CACdvC,IAAI,CAACiB,KAAK,cACZjC,IAAA,QAAK4C,GAAG,CAAE5B,IAAI,CAACiB,KAAM,CAACY,GAAG,CAAC,EAAE,CAAChB,SAAS,CAAC,gBAAgB,CAAE,CAAC,cAE1D7B,IAAA,UAAOwD,QAAQ,MAACC,IAAI,MAACC,KAAK,MAACC,WAAW,MAAC9B,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cACjE5B,IAAA,WAAQ4C,GAAG,CAAE5B,IAAI,CAACuC,KAAM,CAAE,CAAC,CACtB,CACR,CACQ,CAAC,EACR,CACP,cACDvD,IAAA,QAAK6B,SAAS,CAAC,SAAS,CAAM,CAAC,EAC5B,CAAC,cACN7B,IAAA,CAACH,UAAU,GAAE,CAAC,cACdG,IAAA,CAACF,MAAM,GAAE,CAAC,EACV,CAAC,CAEP,CAAC,CAAC,CACF,cAAe,CAAAO,MAAM"},"metadata":{},"sourceType":"module"}