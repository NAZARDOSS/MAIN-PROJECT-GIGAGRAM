{"ast":null,"code":"import _slicedToArray from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{observer}from\"mobx-react-lite\";import React,{useEffect,useState}from\"react\";import{Button,Modal}from\"react-bootstrap\";import{useStores}from\"../../../stores/MainStore\";import{useNavigate}from\"react-router-dom\";import followersStyle from\"./followers.scss\";import{Avatar}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Followers=observer(function(props){var username=props.username;var _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),followers=_useState2[0],setFollowers=_useState2[1];var navigate=useNavigate();useEffect(function(){if(username!==undefined){new Promise(function(resolve,rejects){resolve();}).then(function(){return RequestsStore.doGet(ConfigStore.url+\"/followers/\"+username);}).then(function(foll){if(foll===\"Forbidden\"){ConfigStore.setErr(\"Token has been burned\");ConfigStore.setIsShow(true);}else{setFollowers(foll.followers);}});}else{return;}},[username]);function handleClose(){ConfigStore.setIsShowFollowers(false);}var toUser=function toUser(username){handleClose();navigate(\"/user/\".concat(username));};return/*#__PURE__*/_jsxs(Modal,{show:ConfigStore.isShowFollowers,className:\"followers\",onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Followers\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(\"ul\",{className:\"list\",children:followers===\"Not Found\"?/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:\"Loading...\"}):followers.map(function(arrayF){return/*#__PURE__*/_jsxs(\"li\",{\"ng-repeat\":\"user in ctrl.users\",className:\"list-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"list-item-image\",children:/*#__PURE__*/_jsx(Avatar,{src:arrayF.avatar,className:\"image__item\",alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"list-item-content\",children:/*#__PURE__*/_jsx(\"p\",{children:arrayF.username})}),/*#__PURE__*/_jsx(Button,{style:{background:\"#F47A1D\",border:\"none\",margin:\"2em\",float:\"right\"},onClick:function onClick(){return toUser(arrayF.username);},children:\"GO TO\"})]},arrayF._id);})})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,style:{background:\"#F47A1D\",border:\"none\"},children:\"Close\"})})]});});export default Followers;","map":{"version":3,"names":["observer","React","useEffect","useState","Button","Modal","useStores","useNavigate","followersStyle","Avatar","jsx","_jsx","jsxs","_jsxs","Followers","props","username","_useStores","RequestsStore","ConfigStore","_useState","_useState2","_slicedToArray","followers","setFollowers","navigate","undefined","Promise","resolve","rejects","then","doGet","url","foll","setErr","setIsShow","handleClose","setIsShowFollowers","toUser","concat","show","isShowFollowers","className","onHide","children","Header","closeButton","Title","Body","map","arrayF","src","avatar","alt","style","background","border","margin","float","onClick","_id","Footer"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/private/followers/FollowersView.jsx"],"sourcesContent":["import { observer } from \"mobx-react-lite\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport { useStores } from \"../../../stores/MainStore\";\nimport { useNavigate } from \"react-router-dom\";\nimport followersStyle from \"./followers.scss\";\nimport { Avatar } from \"@mui/material\";\n\nconst Followers = observer((props) => {\n\n  const { username } = props;\n\n  const { RequestsStore, ConfigStore } = useStores();\n\n  const [followers, setFollowers] = useState([]);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if(username !== undefined ) {\n      new Promise((resolve, rejects) => {\n        resolve();\n      })\n      .then(() => {\n        return RequestsStore.doGet(ConfigStore.url + \"/followers/\" + username);\n      })\n      .then((foll) => {\n        if (foll === \"Forbidden\") {\n          ConfigStore.setErr(\"Token has been burned\");\n          ConfigStore.setIsShow(true);\n        } else {\n          setFollowers(foll.followers);\n        }\n      })\n    } else {\n      return;\n    }\n  }, [username]);\n\n  function handleClose() {\n    ConfigStore.setIsShowFollowers(false);\n  }\n\n  const toUser = (username) => {\n    handleClose();\n    navigate(`/user/${username}`);\n  };\n\n  return (\n    <Modal show={ConfigStore.isShowFollowers} className=\"followers\" onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>Followers</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <ul className=\"list\">\n          { followers === \"Not Found\" ?\n              <div className=\"loader\">Loading...</div>\n              :\n              followers.map((arrayF) => (\n                <li\n                  key={arrayF._id}\n                  ng-repeat=\"user in ctrl.users\"\n                  className=\"list-item\"\n                >\n                  <div className=\"list-item-image\">\n                    <Avatar src={arrayF.avatar} className=\"image__item\" alt=\"\" />\n                  </div>\n                  <div className=\"list-item-content\">\n                    <p>{arrayF.username}</p>\n                  </div>\n                  <Button style={{background: \"#F47A1D\", border: \"none\", margin: \"2em\", float: \"right\" }} onClick={() => toUser(arrayF.username)}>GO TO</Button>\n                </li>\n              ))\n          }\n        </ul>\n    </Modal.Body>\n    <Modal.Footer>\n      <Button onClick={handleClose} style={{background: \"#F47A1D\", border: \"none\"}}>Close</Button>\n    </Modal.Footer>\n    </Modal>\n  );\n})\nexport default Followers"],"mappings":"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"},"metadata":{},"sourceType":"module"}