{"ast":null,"code":"var _jsxFileName = \"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/private/feed/Feed.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport Container from \"@mui/material/Container\";\nimport PostCard from \"./PostCard\";\nimport RecomendUsers from \"./RecomendUsers\";\nimport ErrorModal from \"../../partial/modal/ErrorModal\";\nimport { useStores } from \"../../../stores/MainStore\";\n// eslint-disable-next-line no-unused-vars\nimport feed from \"./feed.scss\";\nimport Footer from \"../../partial/footer/Footer\";\nimport Aside from \"./Aside\";\nimport { Fade, Toolbar, useScrollTrigger, Fab, Box } from '@mui/material';\nimport { KeyboardArrowUp } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ScrollTop(props) {\n  _s();\n  const {\n    children,\n    window\n  } = props;\n  const trigger = useScrollTrigger({\n    target: window ? window() : undefined,\n    disableHysteresis: true,\n    threshold: 100\n  });\n  const handleClick = event => {\n    const anchor = (event.target.ownerDocument || document).querySelector('#back-to-top-anchor');\n    if (anchor) {\n      anchor.scrollIntoView({\n        block: 'center'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Fade, {\n    in: trigger,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      onClick: handleClick,\n      role: \"presentation\",\n      sx: {\n        position: 'fixed',\n        bottom: 16,\n        right: 16\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(ScrollTop, \"EC2GbbZl9x3XKoXLVx1H89cOBi0=\", false, function () {\n  return [useScrollTrigger];\n});\n_c = ScrollTop;\n;\nconst FeedPage = observer(_c2 = _s2(() => {\n  _s2();\n  const {\n    RequestsStore,\n    ConfigStore\n  } = useStores();\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    new Promise((resolve, rejects) => {\n      resolve();\n    }).then(() => {\n      return RequestsStore.doGet(ConfigStore.url + \"/posts\");\n    }).then(post => {\n      //  ConfigStore.setLoading(false);\n      if (post === \"Forbidden\") {\n        ConfigStore.setErr(\"Token has been burned\");\n        ConfigStore.setIsShow(true);\n      } else {\n        setPosts(post);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    if (ConfigStore.me.username) {\n      RequestsStore.doGet(ConfigStore.url + \"/followings/\" + ConfigStore.me.username).then(resp => {\n        ConfigStore.setFollowings(resp.following);\n      });\n    } else {\n      return;\n    }\n  }, [ConfigStore.me.username]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n      id: \"back-to-top-anchor\",\n      style: {\n        position: \"absolute\",\n        top: 0,\n        zIndex: \"-1\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main__feed\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feed__header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Feed page | Favoriets from students\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"feed\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          maxWidth: \"xl\",\n          style: {\n            background: \"none\",\n            position: \"relative\"\n          },\n          sx: {\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Aside, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feed__posts\",\n            style: {\n              background: \"none\",\n              width: \"100%\"\n            },\n            children: posts === \"Not Found\" ? /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"errorCase\",\n              children: \"Sorry any posts found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this) : posts.slice().reverse().map(item => /*#__PURE__*/_jsxDEV(PostCard, {\n              item: item\n            }, item._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RecomendUsers, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorModal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScrollTop, {\n      children: /*#__PURE__*/_jsxDEV(Fab, {\n        size: \"small\",\n        \"aria-label\": \"scroll back to top\",\n        children: /*#__PURE__*/_jsxDEV(KeyboardArrowUp, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}, \"ItMLvP2ZFA2cbjfnQCYiuqXJNyk=\", false, function () {\n  return [useStores];\n}));\n_c3 = FeedPage;\nexport default FeedPage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ScrollTop\");\n$RefreshReg$(_c2, \"FeedPage$observer\");\n$RefreshReg$(_c3, \"FeedPage\");","map":{"version":3,"names":["React","useState","useEffect","observer","Container","PostCard","RecomendUsers","ErrorModal","useStores","feed","Footer","Aside","Fade","Toolbar","useScrollTrigger","Fab","Box","KeyboardArrowUp","jsxDEV","_jsxDEV","Fragment","_Fragment","ScrollTop","props","_s","children","window","trigger","target","undefined","disableHysteresis","threshold","handleClick","event","anchor","ownerDocument","document","querySelector","scrollIntoView","block","in","onClick","role","sx","position","bottom","right","fileName","_jsxFileName","lineNumber","columnNumber","_c","FeedPage","_c2","_s2","RequestsStore","ConfigStore","posts","setPosts","Promise","resolve","rejects","then","doGet","url","post","setErr","setIsShow","me","username","resp","setFollowings","following","id","style","top","zIndex","className","maxWidth","background","display","justifyContent","width","slice","reverse","map","item","_id","size","_c3","$RefreshReg$"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/private/feed/Feed.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport Container from \"@mui/material/Container\";\nimport PostCard from \"./PostCard\";\nimport RecomendUsers from \"./RecomendUsers\";\nimport ErrorModal from \"../../partial/modal/ErrorModal\";\nimport { useStores } from \"../../../stores/MainStore\";\n// eslint-disable-next-line no-unused-vars\nimport feed from \"./feed.scss\";\n\nimport Footer from \"../../partial/footer/Footer\";\nimport Aside from \"./Aside\";\nimport { Fade, Toolbar, useScrollTrigger, Fab, Box } from '@mui/material';\nimport { KeyboardArrowUp } from '@mui/icons-material';\n\nfunction ScrollTop(props) {\n  const { children, window } = props;\n  const trigger = useScrollTrigger({\n    target: window ? window() : undefined,\n    disableHysteresis: true,\n    threshold: 100,\n  });\n\n  const handleClick = (event) => {\n    const anchor = (event.target.ownerDocument || document).querySelector(\n      '#back-to-top-anchor',\n    );\n\n    if (anchor) {\n      anchor.scrollIntoView({\n        block: 'center',\n      });\n    }\n  };\n\n  return (\n    <Fade in={trigger}>\n      <Box\n        onClick={handleClick}\n        role=\"presentation\"\n        sx={{ position: 'fixed', bottom: 16, right: 16 }}\n      >\n        {children}\n      </Box>\n    </Fade>\n  );\n};\n\n\nconst FeedPage = observer(() => {\n\n  const { RequestsStore, ConfigStore } = useStores();\n\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    new Promise((resolve, rejects) => {\n      resolve();\n    })\n    .then(() => {\n      return RequestsStore.doGet(ConfigStore.url + \"/posts\");\n    })\n    .then((post) => {\n      //  ConfigStore.setLoading(false);\n      if(post === \"Forbidden\") {\n        ConfigStore.setErr(\"Token has been burned\");\n        ConfigStore.setIsShow(true);\n      } else {\n        setPosts(post);\n      }\n    })\n  }, []);\n\n  useEffect(() => {\n    if(ConfigStore.me.username) {\n      RequestsStore.doGet(ConfigStore.url + \"/followings/\" + ConfigStore.me.username)\n      .then((resp) => {\n        ConfigStore.setFollowings(resp.following);\n      })\n    } else{\n      return;\n    }\n  }, [ConfigStore.me.username]);\n\n  return (\n    <>\n      <Toolbar id=\"back-to-top-anchor\" style={{position: \"absolute\", top: 0, zIndex: \"-1\"}} />\n     \n      <div className=\"main__feed\">\n        <div className=\"feed__header\">\n          <h2>Feed page | Favoriets from students</h2>\n        </div>\n        <main className=\"feed\">\n          <Container\n            maxWidth=\"xl\"\n            style={{ background: \"none\", position: \"relative\" }}\n            sx={{ display: \"flex\", justifyContent: \"center\" }}\n          >\n            <Aside />\n            <div className=\"feed__posts\" style={{ background: \"none\", width: \"100%\" }}>\n              {posts === \"Not Found\" ? (\n                <h2 className=\"errorCase\">Sorry any posts found</h2>\n              ) : (\n                posts.slice().reverse().map((item) => (\n                  <PostCard item={item} key={item._id}/>\n                ))\n              )}\n            </div>\n            <RecomendUsers />\n          </Container>\n        </main>\n        <ErrorModal />\n      </div>\n     \n      <Footer />\n      <ScrollTop>\n        <Fab size=\"small\" aria-label=\"scroll back to top\">\n          <KeyboardArrowUp />\n        </Fab>\n      </ScrollTop>\n    </>\n  );\n});\n\nexport default FeedPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}