{"ast":null,"code":"import _objectSpread from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import AliceCarousel from\"react-alice-carousel\";import\"react-alice-carousel/lib/alice-carousel.css\";import ImageList from\"@mui/material/ImageList\";import ImageListItem from\"@mui/material/ImageListItem\";import Paper from'@mui/material/Paper';import Loading from\"../../partial/Loading\";import VideoLibraryIcon from\"@mui/icons-material/VideoLibrary\";import{styled}from'@mui/material/styles';import{observer}from\"mobx-react\";import{useStores}from\"../../../stores/MainStore\";import ReceiptLongIcon from'@mui/icons-material/ReceiptLong';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserProfilePosts=observer(function(props){var _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;var myId=props.myId;var navigate=useNavigate();var Label=styled(Paper)(function(_ref){var theme=_ref.theme;return _objectSpread(_objectSpread({backgroundColor:theme.palette.mode==='dark'?'#1A2027':'#fff'},theme.typography.body2),{},{padding:theme.spacing(0.5),textAlign:'center',color:theme.palette.text.secondary,borderBottomLeftRadius:0,borderBottomRightRadius:0});});useEffect(function(){if(myId!==undefined){new Promise(function(resolve,rejects){resolve();}).then(function(){return RequestsStore.doGet(ConfigStore.url+\"/posts?user_id=\"+myId);}).then(function(myPosts){if(myPosts===\"Forbidden\"){ConfigStore.setErr(\"Token has been burned\");ConfigStore.setIsShow(true);}else{ConfigStore.setMyPost(myPosts);ConfigStore.setUpdatePosts(false);}});}else{return;}},[myId,ConfigStore.updatePosts]);return/*#__PURE__*/_jsx(\"div\",{style:{overflowWrap:\"anywhere\",width:\"inherhit\"},children:/*#__PURE__*/_jsx(ImageList,{cols:3,style:{height:\"100%\",display:ConfigStore.myPosts===\"Not Found\"?\"flex\":\"grid\",flexDirection:\"column\"},className:!ConfigStore.myPosts.includes(\"postEmptyState\")?\"imageListFlex\":\"\",children:ConfigStore.myPosts===\"Not Found\"?/*#__PURE__*/_jsxs(\"div\",{className:\"postEmptyState\",children:[/*#__PURE__*/_jsx(ReceiptLongIcon,{className:\"postEmptyState__icon\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"errorCase\",children:\" Sorry any posts found\"})]}):ConfigStore.myPosts.slice().reverse().map(function(item){return/*#__PURE__*/_jsx(ImageListItem,{style:{cursor:\"pointer\"},onClick:function onClick(){return navigate(\"/post/\".concat(item._id));},children:item.image&&item.video?/*#__PURE__*/ // <AliceCarousel\n//   disableButtonsControls\n//   dotsDisabled={true}\n//   touchTracking\n//   touchMoveDefaultEvents\n// >\n_jsxs(\"div\",{className:\"item_video\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"set-icon\",children:/*#__PURE__*/_jsx(VideoLibraryIcon,{})}),/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(item.image),alt:item.image,loading:\"lazy\",className:\"post\"}),/*#__PURE__*/_jsx(\"video\",{autoPlay:true,loop:true,muted:true,playsInline:true,className:\"post\",style:{display:\"none\"},children:/*#__PURE__*/_jsx(\"source\",{src:item.video})})]})// </AliceCarousel>\n:/*#__PURE__*/_jsxs(\"div\",{className:\"item_video\",children:[item.image&&/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(item.image),srcSet:\"\".concat(item.image),alt:item.image,loading:\"lazy\",className:\"post\"}),item.video&&/*#__PURE__*/_jsx(\"video\",{autoPlay:true,loop:true,muted:true,playsInline:true,className:\"post\",children:/*#__PURE__*/_jsx(\"source\",{src:\"\".concat(item.video)})})]})},item._id+Math.random());})})});});export default UserProfilePosts;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","AliceCarousel","ImageList","ImageListItem","Paper","Loading","VideoLibraryIcon","styled","observer","useStores","ReceiptLongIcon","jsx","_jsx","jsxs","_jsxs","UserProfilePosts","props","_useStores","RequestsStore","ConfigStore","myId","navigate","Label","_ref","theme","_objectSpread","backgroundColor","palette","mode","typography","body2","padding","spacing","textAlign","color","text","secondary","borderBottomLeftRadius","borderBottomRightRadius","undefined","Promise","resolve","rejects","then","doGet","url","myPosts","setErr","setIsShow","setMyPost","setUpdatePosts","updatePosts","style","overflowWrap","width","children","cols","height","display","flexDirection","className","includes","slice","reverse","map","item","cursor","onClick","concat","_id","image","video","src","alt","loading","autoPlay","loop","muted","playsInline","srcSet","Math","random"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/private/userPage/UserPosts.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate }                from \"react-router-dom\";\nimport AliceCarousel                  from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport ImageList                      from \"@mui/material/ImageList\";\nimport ImageListItem                  from \"@mui/material/ImageListItem\";\nimport Paper                          from '@mui/material/Paper';\nimport Loading                        from \"../../partial/Loading\";\nimport VideoLibraryIcon               from \"@mui/icons-material/VideoLibrary\";\nimport { styled }                     from '@mui/material/styles';\nimport { observer }                   from \"mobx-react\";\nimport { useStores }                  from \"../../../stores/MainStore\";\nimport ReceiptLongIcon                from '@mui/icons-material/ReceiptLong';\n\nconst UserProfilePosts = observer((props) => {\n\n  const { RequestsStore, ConfigStore } = useStores();\n  \n  \n  const { myId } = props;\n\n  const navigate = useNavigate();\n\n  const Label = styled(Paper)(({ theme }) => ({\n  backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n  ...theme.typography.body2,\n  padding: theme.spacing(0.5),\n  textAlign: 'center',\n  color: theme.palette.text.secondary,\n  borderBottomLeftRadius: 0,\n  borderBottomRightRadius: 0,\n}));\n\n  useEffect(() => {\n    if (myId !== undefined) {\n      new Promise((resolve, rejects) => {\n        resolve()\n      })\n      .then(() => {\n        return RequestsStore.doGet(ConfigStore.url + \"/posts?user_id=\" + myId)\n      })\n      .then((myPosts) => {\n        if (myPosts === \"Forbidden\") {\n          ConfigStore.setErr(\"Token has been burned\");\n          ConfigStore.setIsShow(true);\n        } else {\n          ConfigStore.setMyPost(myPosts)\n          ConfigStore.setUpdatePosts(false)\n        }\n      })\n    } else {\n      return;\n    }\n  }, [myId, ConfigStore.updatePosts]);\n\n  return (\n    <div style={{overflowWrap: \"anywhere\", width: \"inherhit\"}}>\n    <ImageList\n  cols={3}\n  style={{\n    height: \"100%\",\n    display: ConfigStore.myPosts === \"Not Found\" ? \"flex\" : \"grid\",\n    flexDirection: \"column\",\n  }}\n  className={!ConfigStore.myPosts.includes(\"postEmptyState\") ? \"imageListFlex\" : \"\"}\n>\n  {ConfigStore.myPosts === \"Not Found\" ? (\n    <div className=\"postEmptyState\">\n      <ReceiptLongIcon className=\"postEmptyState__icon\" />\n      <h2 className=\"errorCase\"> Sorry any posts found</h2>\n    </div>\n  ) : (\n          ConfigStore.myPosts.slice().reverse().map((item) => (\n          <ImageListItem\n            key={item._id + Math.random()}\n            style={{ cursor: \"pointer\" }}\n            onClick={() => navigate(`/post/${item._id}`)}\n          >\n            {item.image && item.video ? (\n              // <AliceCarousel\n              //   disableButtonsControls\n              //   dotsDisabled={true}\n              //   touchTracking\n              //   touchMoveDefaultEvents\n              // >\n              <div className=\"item_video\">\n                <span className=\"set-icon\">\n                    <VideoLibraryIcon />\n                  </span>\n                  <img\n                    src={`${item.image}`}\n                    alt={item.image}\n                    loading=\"lazy\"\n                    className=\"post\"\n                  />\n                <video\n                  autoPlay\n                  loop\n                  muted\n                  playsInline\n                  className=\"post\"\n                  style={{ display: \"none\" }}\n                >\n                  <source src={item.video} />\n                </video>\n              </div>\n              // </AliceCarousel>\n            ) : (\n              <div className=\"item_video\">\n                {item.image && (\n                  <img\n                    src={`${item.image}`}\n                    srcSet={`${item.image}`}\n                    alt={item.image}\n                    loading=\"lazy\"\n                    className=\"post\"\n                  />\n                )}\n                {item.video && (\n                <video autoPlay loop muted playsInline className=\"post\">\n                   <source src={`${item.video}`} />\n                </video>\n                )}\n              </div>\n            )}\n          </ImageListItem>\n        ))\n      )}\n    </ImageList>\n    </div>\n  );\n});\n\nexport default UserProfilePosts;"],"mappings":"kJAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAuB,kBAAkB,CAC7D,MAAO,CAAAC,aAAa,KAAuB,sBAAsB,CACjE,MAAO,6CAA6C,CACpD,MAAO,CAAAC,SAAS,KAA2B,yBAAyB,CACpE,MAAO,CAAAC,aAAa,KAAuB,6BAA6B,CACxE,MAAO,CAAAC,KAAK,KAA+B,qBAAqB,CAChE,MAAO,CAAAC,OAAO,KAA6B,uBAAuB,CAClE,MAAO,CAAAC,gBAAgB,KAAoB,kCAAkC,CAC7E,OAASC,MAAM,KAA4B,sBAAsB,CACjE,OAASC,QAAQ,KAA0B,YAAY,CACvD,OAASC,SAAS,KAAyB,2BAA2B,CACtE,MAAO,CAAAC,eAAe,KAAqB,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7E,GAAM,CAAAC,gBAAgB,CAAGP,QAAQ,CAAC,SAACQ,KAAK,CAAK,CAE3C,IAAAC,UAAA,CAAuCR,SAAS,CAAC,CAAC,CAA1CS,aAAa,CAAAD,UAAA,CAAbC,aAAa,CAAEC,WAAW,CAAAF,UAAA,CAAXE,WAAW,CAGlC,GAAQ,CAAAC,IAAI,CAAKJ,KAAK,CAAdI,IAAI,CAEZ,GAAM,CAAAC,QAAQ,CAAGrB,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAsB,KAAK,CAAGf,MAAM,CAACH,KAAK,CAAC,CAAC,SAAAmB,IAAA,KAAG,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,QAAAC,aAAA,CAAAA,aAAA,EACpCC,eAAe,CAAEF,KAAK,CAACG,OAAO,CAACC,IAAI,GAAK,MAAM,CAAG,SAAS,CAAG,MAAM,EAChEJ,KAAK,CAACK,UAAU,CAACC,KAAK,MACzBC,OAAO,CAAEP,KAAK,CAACQ,OAAO,CAAC,GAAG,CAAC,CAC3BC,SAAS,CAAE,QAAQ,CACnBC,KAAK,CAAEV,KAAK,CAACG,OAAO,CAACQ,IAAI,CAACC,SAAS,CACnCC,sBAAsB,CAAE,CAAC,CACzBC,uBAAuB,CAAE,CAAC,IAC1B,CAAC,CAEDxC,SAAS,CAAC,UAAM,CACd,GAAIsB,IAAI,GAAKmB,SAAS,CAAE,CACtB,GAAI,CAAAC,OAAO,CAAC,SAACC,OAAO,CAAEC,OAAO,CAAK,CAChCD,OAAO,CAAC,CAAC,CACX,CAAC,CAAC,CACDE,IAAI,CAAC,UAAM,CACV,MAAO,CAAAzB,aAAa,CAAC0B,KAAK,CAACzB,WAAW,CAAC0B,GAAG,CAAG,iBAAiB,CAAGzB,IAAI,CAAC,CACxE,CAAC,CAAC,CACDuB,IAAI,CAAC,SAACG,OAAO,CAAK,CACjB,GAAIA,OAAO,GAAK,WAAW,CAAE,CAC3B3B,WAAW,CAAC4B,MAAM,CAAC,uBAAuB,CAAC,CAC3C5B,WAAW,CAAC6B,SAAS,CAAC,IAAI,CAAC,CAC7B,CAAC,IAAM,CACL7B,WAAW,CAAC8B,SAAS,CAACH,OAAO,CAAC,CAC9B3B,WAAW,CAAC+B,cAAc,CAAC,KAAK,CAAC,CACnC,CACF,CAAC,CAAC,CACJ,CAAC,IAAM,CACL,OACF,CACF,CAAC,CAAE,CAAC9B,IAAI,CAAED,WAAW,CAACgC,WAAW,CAAC,CAAC,CAEnC,mBACEvC,IAAA,QAAKwC,KAAK,CAAE,CAACC,YAAY,CAAE,UAAU,CAAEC,KAAK,CAAE,UAAU,CAAE,CAAAC,QAAA,cAC1D3C,IAAA,CAACV,SAAS,EACZsD,IAAI,CAAE,CAAE,CACRJ,KAAK,CAAE,CACLK,MAAM,CAAE,MAAM,CACdC,OAAO,CAAEvC,WAAW,CAAC2B,OAAO,GAAK,WAAW,CAAG,MAAM,CAAG,MAAM,CAC9Da,aAAa,CAAE,QACjB,CAAE,CACFC,SAAS,CAAE,CAACzC,WAAW,CAAC2B,OAAO,CAACe,QAAQ,CAAC,gBAAgB,CAAC,CAAG,eAAe,CAAG,EAAG,CAAAN,QAAA,CAEjFpC,WAAW,CAAC2B,OAAO,GAAK,WAAW,cAClChC,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAL,QAAA,eAC7B3C,IAAA,CAACF,eAAe,EAACkD,SAAS,CAAC,sBAAsB,CAAE,CAAC,cACpDhD,IAAA,OAAIgD,SAAS,CAAC,WAAW,CAAAL,QAAA,CAAC,wBAAsB,CAAI,CAAC,EAClD,CAAC,CAEApC,WAAW,CAAC2B,OAAO,CAACgB,KAAK,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,GAAG,CAAC,SAACC,IAAI,qBAC/CrD,IAAA,CAACT,aAAa,EAEZiD,KAAK,CAAE,CAAEc,MAAM,CAAE,SAAU,CAAE,CAC7BC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA9C,QAAQ,UAAA+C,MAAA,CAAUH,IAAI,CAACI,GAAG,CAAE,CAAC,EAAC,CAAAd,QAAA,CAE5CU,IAAI,CAACK,KAAK,EAAIL,IAAI,CAACM,KAAK,eACvB;AACA;AACA;AACA;AACA;AACA;AACAzD,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAL,QAAA,eACzB3C,IAAA,SAAMgD,SAAS,CAAC,UAAU,CAAAL,QAAA,cACtB3C,IAAA,CAACN,gBAAgB,GAAE,CAAC,CAChB,CAAC,cACPM,IAAA,QACE4D,GAAG,IAAAJ,MAAA,CAAKH,IAAI,CAACK,KAAK,CAAG,CACrBG,GAAG,CAAER,IAAI,CAACK,KAAM,CAChBI,OAAO,CAAC,MAAM,CACdd,SAAS,CAAC,MAAM,CACjB,CAAC,cACJhD,IAAA,UACE+D,QAAQ,MACRC,IAAI,MACJC,KAAK,MACLC,WAAW,MACXlB,SAAS,CAAC,MAAM,CAChBR,KAAK,CAAE,CAAEM,OAAO,CAAE,MAAO,CAAE,CAAAH,QAAA,cAE3B3C,IAAA,WAAQ4D,GAAG,CAAEP,IAAI,CAACM,KAAM,CAAE,CAAC,CACtB,CAAC,EACL,CACL;AAAA,cAEAzD,KAAA,QAAK8C,SAAS,CAAC,YAAY,CAAAL,QAAA,EACxBU,IAAI,CAACK,KAAK,eACT1D,IAAA,QACE4D,GAAG,IAAAJ,MAAA,CAAKH,IAAI,CAACK,KAAK,CAAG,CACrBS,MAAM,IAAAX,MAAA,CAAKH,IAAI,CAACK,KAAK,CAAG,CACxBG,GAAG,CAAER,IAAI,CAACK,KAAM,CAChBI,OAAO,CAAC,MAAM,CACdd,SAAS,CAAC,MAAM,CACjB,CACF,CACAK,IAAI,CAACM,KAAK,eACX3D,IAAA,UAAO+D,QAAQ,MAACC,IAAI,MAACC,KAAK,MAACC,WAAW,MAAClB,SAAS,CAAC,MAAM,CAAAL,QAAA,cACpD3C,IAAA,WAAQ4D,GAAG,IAAAJ,MAAA,CAAKH,IAAI,CAACM,KAAK,CAAG,CAAE,CAAC,CAC5B,CACN,EACE,CACN,EAlDIN,IAAI,CAACI,GAAG,CAAGW,IAAI,CAACC,MAAM,CAAC,CAmDf,CAAC,EACjB,CACF,CACQ,CAAC,CACP,CAAC,CAEV,CAAC,CAAC,CAEF,cAAe,CAAAlE,gBAAgB"},"metadata":{},"sourceType":"module"}