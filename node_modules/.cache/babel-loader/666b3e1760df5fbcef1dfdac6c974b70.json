{"ast":null,"code":"import _slicedToArray from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import{AppBar,Box,Toolbar,IconButton,Typography,Menu,Container,Avatar,Tooltip,MenuItem}from\"@mui/material/\";import MenuIcon from\"@mui/icons-material/Menu\";import AdbIcon from\"@mui/icons-material/Adb\";import headerStyle from\"./headermain.scss\";import LogoutIcon from'@mui/icons-material/Logout';import AccountCircleIcon from'@mui/icons-material/AccountCircle';import DeleteAcc from\"./modal/DeleteAcc\";import logoH from\"../../assets/img/logoWhite.png\";import{NavLink}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{observer}from\"mobx-react\";import{useStores}from\"../../stores/MainStore\";import SearchModal from\"./modal/SearchModal\";import SearchIcon from'@mui/icons-material/Search';import PostAddIcon from'@mui/icons-material/PostAdd';import ModalWindow from\"./modal/ModalWindow\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PrivateHeader=observer(function(){var _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;// const [anchorElNav, setAnchorElNav] = React.useState(null);\nvar _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorElUser=_React$useState2[0],setAnchorElUser=_React$useState2[1];React.useEffect(function(){new Promise(function(resolve,rejects){resolve();}).then(function(){return RequestsStore.doGet(ConfigStore.url+\"/me\");}).then(function(me){if(me===\"Forbidden\"){ConfigStore.setErr(\"Token has been burned\");ConfigStore.setIsShow(true);}else{ConfigStore.setMe(me);}});},[]);// const handleOpenNavMenu = (event) => {\n//   setAnchorElNav(event.currentTarget);\n// };\nvar handleOpenUserMenu=function handleOpenUserMenu(event){setAnchorElUser(event.currentTarget);};// const handleCloseNavMenu = () => {\n//   setAnchorElNav(null);\n// };\nvar handleCloseUserMenu=function handleCloseUserMenu(){setAnchorElUser(null);};var navigate=useNavigate();var logout=function logout(){handleCloseUserMenu();localStorage.removeItem(\"token\");navigate(\"/signin\");};return/*#__PURE__*/_jsxs(AppBar,{className:\"header\",position:\"static\",sx:{backgroundColor:\"white\"},children:[/*#__PURE__*/_jsx(Container,{maxWidth:\"xl\",children:/*#__PURE__*/_jsxs(Toolbar,{disableGutters:true,children:[/*#__PURE__*/_jsx(\"figure\",{className:\"header__logo\",onClick:function onClick(){return navigate(\"/feed\");},children:/*#__PURE__*/_jsx(\"img\",{src:logoH,alt:\"\"})}),/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:0,display:\"flex\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return ConfigStore.setIsShowSearchModal(true);},className:\"search__button\",children:/*#__PURE__*/_jsx(SearchIcon,{className:\"search__icon\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return ConfigStore.setIsShowModalWindow(true);},className:\"plus__button\",children:/*#__PURE__*/_jsx(PostAddIcon,{className:\"plus__icon\"})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Open settings\",children:/*#__PURE__*/_jsx(IconButton,{onClick:handleOpenUserMenu,sx:{p:0},children:/*#__PURE__*/_jsx(Avatar,{alt:\"\",src:ConfigStore.me.avatar,style:{background:\"#D9D9D9\"}})})}),/*#__PURE__*/_jsxs(Menu,{sx:{mt:\"45px\"},id:\"menu-appbar\",anchorEl:anchorElUser,anchorOrigin:{vertical:\"top\",horizontal:\"right\"},keepMounted:true,transformOrigin:{vertical:\"top\",horizontal:\"right\"},open:Boolean(anchorElUser),onClose:handleCloseUserMenu,children:[/*#__PURE__*/_jsx(MenuItem,{component:NavLink,to:\"/my-page\",onClick:handleCloseUserMenu,children:/*#__PURE__*/_jsxs(Typography,{textAlign:\"center\",children:[\"Account \",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"10px\"},children:/*#__PURE__*/_jsx(AccountCircleIcon,{})})]})}),/*#__PURE__*/_jsx(MenuItem,{onClick:logout,children:/*#__PURE__*/_jsxs(Typography,{textAlign:\"center\",children:[\"Logout \",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"21px\"},children:/*#__PURE__*/_jsx(LogoutIcon,{})}),\" \"]})}),/*#__PURE__*/_jsx(MenuItem,{children:/*#__PURE__*/_jsx(Typography,{textAlign:\"center\",style:{color:\"red\"},children:/*#__PURE__*/_jsx(DeleteAcc,{sx:{m:2}})})})]})]})]})}),/*#__PURE__*/_jsx(ModalWindow,{}),/*#__PURE__*/_jsx(SearchModal,{})]});});export default PrivateHeader;","map":{"version":3,"names":["React","AppBar","Box","Toolbar","IconButton","Typography","Menu","Container","Avatar","Tooltip","MenuItem","MenuIcon","AdbIcon","headerStyle","LogoutIcon","AccountCircleIcon","DeleteAcc","logoH","NavLink","useNavigate","observer","useStores","SearchModal","SearchIcon","PostAddIcon","ModalWindow","jsx","_jsx","jsxs","_jsxs","PrivateHeader","_useStores","RequestsStore","ConfigStore","_React$useState","useState","_React$useState2","_slicedToArray","anchorElUser","setAnchorElUser","useEffect","Promise","resolve","rejects","then","doGet","url","me","setErr","setIsShow","setMe","handleOpenUserMenu","event","currentTarget","handleCloseUserMenu","navigate","logout","localStorage","removeItem","className","position","sx","backgroundColor","children","maxWidth","disableGutters","onClick","src","alt","flexGrow","display","setIsShowSearchModal","setIsShowModalWindow","title","p","avatar","style","background","mt","id","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","component","to","textAlign","marginLeft","color","m"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/partial/PrivateHeader.jsx"],"sourcesContent":["import * as React         from \"react\";\nimport { AppBar, Box, Toolbar, IconButton, Typography, Menu, Container, Avatar, Tooltip, MenuItem, } from \"@mui/material/\";\nimport MenuIcon           from \"@mui/icons-material/Menu\";\nimport AdbIcon            from \"@mui/icons-material/Adb\";\nimport headerStyle        from \"./headermain.scss\";\nimport LogoutIcon         from '@mui/icons-material/Logout';\nimport AccountCircleIcon  from '@mui/icons-material/AccountCircle';\nimport DeleteAcc          from \"./modal/DeleteAcc\";\nimport logoH              from \"../../assets/img/logoWhite.png\";\nimport { NavLink }        from \"react-router-dom\";\nimport { useNavigate }    from \"react-router-dom\";\nimport { observer }       from \"mobx-react\";\nimport { useStores }      from \"../../stores/MainStore\";\nimport SearchModal        from \"./modal/SearchModal\";\nimport SearchIcon from '@mui/icons-material/Search';\nimport PostAddIcon from '@mui/icons-material/PostAdd';\nimport ModalWindow from \"./modal/ModalWindow\";\n\nconst PrivateHeader = observer(() => {\n\n  const { RequestsStore, ConfigStore } = useStores();\n\n  // const [anchorElNav, setAnchorElNav] = React.useState(null);\n  const [anchorElUser, setAnchorElUser] = React.useState(null);\n\n  React.useEffect(() => {\n    new Promise((resolve, rejects) => {\n      resolve();\n    })\n    .then(() => {\n      return RequestsStore.doGet(ConfigStore.url + \"/me\");\n    })\n    .then((me) => {\n      if (me === \"Forbidden\") {\n        ConfigStore.setErr(\"Token has been burned\");\n        ConfigStore.setIsShow(true);\n      } else {\n       ConfigStore.setMe(me);\n      }\n    })\n  }, [])\n\n  // const handleOpenNavMenu = (event) => {\n  //   setAnchorElNav(event.currentTarget);\n  // };\n\n  const handleOpenUserMenu = (event) => {\n    setAnchorElUser(event.currentTarget);\n  };\n\n  // const handleCloseNavMenu = () => {\n  //   setAnchorElNav(null);\n  // };\n\n  const handleCloseUserMenu = () => {\n    setAnchorElUser(null);\n  };\n\n  const navigate = useNavigate();\n\n  const logout = () => {\n    handleCloseUserMenu();\n    localStorage.removeItem(\"token\");\n    navigate(\"/signin\");\n  };\n\n  return (\n    <AppBar\n      className=\"header\"\n      position=\"static\"\n      sx={{ backgroundColor: \"white\" }}\n    >\n      <Container maxWidth=\"xl\">\n        <Toolbar disableGutters>\n          <figure\n            className=\"header__logo\"\n            onClick={() => navigate(\"/feed\")}\n          >\n            <img src={logoH} alt=\"\" />\n          </figure>\n          {/* <Box sx={{ flexGrow: 1, display: { xs: \"flex\", md: \"none\" } }}>\n            <IconButton\n              size=\"large\"\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleOpenNavMenu}\n              color=\"inherit\"\n            >\n              <MenuIcon />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorElNav}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"left\",\n              }}\n              keepMounted\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"left\",\n              }}\n              open={Boolean(anchorElNav)}\n              onClose={handleCloseNavMenu}\n              sx={{\n                display: { xs: \"block\", md: \"none\" },\n              }}\n            >\n              <MenuItem onClick={handleCloseNavMenu}>\n                <Typography textAlign=\"center\"></Typography>\n              </MenuItem>\n            </Menu>\n          </Box>\n          <AdbIcon sx={{ display: { xs: \"flex\", md: \"none\" }, mr: 1 }} />\n          <Typography\n            variant=\"h5\"\n            noWrap\n            component=\"a\"\n            href=\"\"\n            sx={{\n              mr: 2,\n              display: { xs: \"flex\", md: \"none\" },\n              flexGrow: 1,\n              fontFamily: \"monospace\",\n              fontWeight: 700,\n              letterSpacing: \".3rem\",\n              color: \"inherit\",\n              textDecoration: \"none\",\n            }}\n          >\n            LOGO\n          </Typography> */}\n\n          \n\n          <Box sx={{ flexGrow: 0, display: \"flex\" }}>\n            <button onClick={() => ConfigStore.setIsShowSearchModal(true)} className=\"search__button\" >\n              <SearchIcon className=\"search__icon\"/>\n            </button>\n            <button onClick={() => ConfigStore.setIsShowModalWindow(true)} className=\"plus__button\" >\n              <PostAddIcon className=\"plus__icon\"/>\n            </button>\n              <Tooltip title=\"Open settings\">\n                <IconButton onClick={handleOpenUserMenu} sx={{ p: 0 }}>\n                  <Avatar\n                      alt=\"\"\n                      src={ConfigStore.me.avatar}\n                      style={{ background: \"#D9D9D9\" }}\n                  />\n                </IconButton>\n              </Tooltip>\n              <Menu\n                sx={{ mt: \"45px\" }}\n                id=\"menu-appbar\"\n                anchorEl={anchorElUser}\n                anchorOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n                keepMounted\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n                open={Boolean(anchorElUser)}\n                onClose={handleCloseUserMenu}\n                >\n                <MenuItem\n                    component={NavLink}\n                    to=\"/my-page\"\n                    onClick={handleCloseUserMenu}\n                >\n                    <Typography textAlign=\"center\">Account <span style={{    marginLeft: \"10px\"}}><AccountCircleIcon /></span></Typography>\n                </MenuItem>\n                <MenuItem onClick={logout}>\n                    <Typography textAlign=\"center\">Logout <span style={{marginLeft: \"21px\"}}><LogoutIcon/></span> </Typography>\n                </MenuItem>\n                <MenuItem>\n                    <Typography textAlign=\"center\" style={{color: \"red\"}}><DeleteAcc sx={{ m: 2 }} /></Typography>\n                </MenuItem>\n              </Menu>\n          </Box>\n        </Toolbar>\n      </Container>\n      <ModalWindow />\n      <SearchModal />\n    </AppBar>\n  );\n})\nexport default PrivateHeader;"],"mappings":"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"},"metadata":{},"sourceType":"module"}