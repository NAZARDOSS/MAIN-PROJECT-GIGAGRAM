{"ast":null,"code":"import _slicedToArray from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import likeStyle from'./like.scss';import{useStores}from'../../../stores/MainStore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Like(props){// ПРИНИМАЙ ПОЛНОСТЬЮ ВЕСЬ ФАЙЛ КАК У МЕНЯ, ЧТОБЫ ВСЁ РАБОТАЛО И НИЧЕГО НЕ ПОТЕРЯЛОСЬ\nvar _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;var like=props.like_id.toString();var userLikes=props.userLikes;var handleLike=React.useCallback(function(e){var isChecked=e.target.checked;var likeUrl=ConfigStore.url+\"/like\";var deleteLikeUrl=ConfigStore.url+\"/like/\"+like;var likePromise=isChecked?RequestsStore.doPost(likeUrl,{post_id:like}):RequestsStore.doDelete(deleteLikeUrl);likePromise.then(function(){setLikes(isChecked);}).catch(function(error){return console.error(error);});},[RequestsStore,ConfigStore,like]);var _React$useState=React.useState(function(){return userLikes.some(function(liked){return liked.fromUser===ConfigStore.me._id;});}),_React$useState2=_slicedToArray(_React$useState,2),likes=_React$useState2[0],setLikes=_React$useState2[1];React.useEffect(function(){setLikes(userLikes.some(function(liked){return liked.fromUser===ConfigStore.me._id;}));},[userLikes,ConfigStore.me._id]);return/*#__PURE__*/_jsx(\"div\",{id:\"like-content\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{checked:likes,className:\"like-input\",type:\"checkbox\",onChange:function onChange(e){return handleLike(e);},id:like}),/*#__PURE__*/_jsx(\"label\",{htmlFor:like,children:/*#__PURE__*/_jsx(\"svg\",{id:\"heart-svg\",viewBox:\"467 392 58 57\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsxs(\"g\",{id:\"Group\",fill:\"none\",fillRule:\"evenodd\",transform:\"translate(467 392)\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z\",id:\"heart\",fill:\"#AAB8C2\"}),/*#__PURE__*/_jsx(\"circle\",{id:\"main-circ\",fill:\"#E2264D\",opacity:\"0\",cx:\"29.5\",cy:\"29.5\",r:\"1.5\"}),/*#__PURE__*/_jsxs(\"g\",{id:\"grp7\",opacity:\"0\",transform:\"translate(7 6)\",children:[/*#__PURE__*/_jsx(\"circle\",{id:\"oval1\",fill:\"#9CD8C3\",cx:\"2\",cy:\"6\",r:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{id:\"oval2\",fill:\"#8CE8C3\",cx:\"5\",cy:\"2\",r:\"2\"})]}),/*#__PURE__*/_jsxs(\"g\",{id:\"grp6\",opacity:\"0\",transform:\"translate(0 28)\",children:[/*#__PURE__*/_jsx(\"circle\",{id:\"oval1\",fill:\"#CC8EF5\",cx:\"2\",cy:\"7\",r:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{id:\"oval2\",fill:\"#91D2FA\",cx:\"3\",cy:\"2\",r:\"2\"})]}),/*#__PURE__*/_jsxs(\"g\",{id:\"grp3\",opacity:\"0\",transform:\"translate(52 28)\",children:[/*#__PURE__*/_jsx(\"circle\",{id:\"oval2\",fill:\"#9CD8C3\",cx:\"2\",cy:\"7\",r:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{id:\"oval1\",fill:\"#8CE8C3\",cx:\"4\",cy:\"2\",r:\"2\"})]}),/*#__PURE__*/_jsxs(\"g\",{id:\"grp2\",opacity:\"0\",transform:\"translate(44 6)\",children:[/*#__PURE__*/_jsx(\"circle\",{id:\"oval2\",fill:\"#CC8EF5\",cx:\"5\",cy:\"6\",r:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{id:\"oval1\",fill:\"#CC8EF5\",cx:\"2\",cy:\"2\",r:\"2\"})]}),/*#__PURE__*/_jsxs(\"g\",{id:\"grp5\",opacity:\"0\",transform:\"translate(14 50)\",children:[/*#__PURE__*/_jsx(\"circle\",{id:\"oval1\",fill:\"#91D2FA\",cx:\"6\",cy:\"5\",r:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{id:\"oval2\",fill:\"#91D2FA\",cx:\"2\",cy:\"2\",r:\"2\"})]}),/*#__PURE__*/_jsxs(\"g\",{id:\"grp4\",opacity:\"0\",transform:\"translate(35 50)\",children:[/*#__PURE__*/_jsx(\"circle\",{id:\"oval1\",fill:\"#F48EA7\",cx:\"6\",cy:\"5\",r:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{id:\"oval2\",fill:\"#F48EA7\",cx:\"2\",cy:\"2\",r:\"2\"})]}),/*#__PURE__*/_jsxs(\"g\",{id:\"grp1\",opacity:\"0\",transform:\"translate(24)\",children:[/*#__PURE__*/_jsx(\"circle\",{id:\"oval1\",fill:\"#9FC7FA\",cx:\"2.5\",cy:\"3\",r:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{id:\"oval2\",fill:\"#9FC7FA\",cx:\"7.5\",cy:\"2\",r:\"2\"})]})]})})})]})});};export default Like;","map":{"version":3,"names":["React","likeStyle","useStores","jsx","_jsx","jsxs","_jsxs","Like","props","_useStores","RequestsStore","ConfigStore","like","like_id","toString","userLikes","handleLike","useCallback","e","isChecked","target","checked","likeUrl","url","deleteLikeUrl","likePromise","doPost","post_id","doDelete","then","setLikes","catch","error","console","_React$useState","useState","some","liked","fromUser","me","_id","_React$useState2","_slicedToArray","likes","useEffect","id","children","className","type","onChange","htmlFor","viewBox","xmlns","fill","fillRule","transform","d","opacity","cx","cy","r"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/partial/like/Like.jsx"],"sourcesContent":["import * as React from 'react';\nimport likeStyle from './like.scss';\nimport { useStores } from '../../../stores/MainStore';\n\n\nfunction Like(props) {\n\n    // ПРИНИМАЙ ПОЛНОСТЬЮ ВЕСЬ ФАЙЛ КАК У МЕНЯ, ЧТОБЫ ВСЁ РАБОТАЛО И НИЧЕГО НЕ ПОТЕРЯЛОСЬ\n\n    const { RequestsStore, ConfigStore } = useStores();\n\n    const like = props.like_id.toString();\n    const userLikes = props.userLikes;\n\n    const handleLike = React.useCallback((e) => {\n        const isChecked = e.target.checked;\n        const likeUrl = ConfigStore.url + \"/like\";\n        const deleteLikeUrl = ConfigStore.url + \"/like/\" + like;\n\n        const likePromise = isChecked ?\n            RequestsStore.doPost(likeUrl, { post_id: like }) :\n            RequestsStore.doDelete(deleteLikeUrl);\n\n        likePromise.then(() => {\n            setLikes(isChecked);\n        }).catch((error) => console.error(error));\n    }, [RequestsStore, ConfigStore, like]);\n\n    const [likes, setLikes] = React.useState(() =>\n        userLikes.some((liked) => liked.fromUser === ConfigStore.me._id)\n    );\n\n    React.useEffect(() => {\n        setLikes(userLikes.some((liked) => liked.fromUser === ConfigStore.me._id));\n    }, [userLikes, ConfigStore.me._id]);\n\n        return (\n            <div id=\"like-content\">\n                <div>\n                    <input \n                    checked={likes}\n                    className='like-input' \n                    type=\"checkbox\" \n                    onChange={e => handleLike(e)} \n                    id={like} />\n                    <label htmlFor={like}>\n                        <svg id=\"heart-svg\" viewBox=\"467 392 58 57\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <g id=\"Group\" fill=\"none\" fillRule=\"evenodd\" transform=\"translate(467 392)\">\n                            <path d=\"M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z\" id=\"heart\" fill=\"#AAB8C2\"/>\n                            <circle id=\"main-circ\" fill=\"#E2264D\" opacity=\"0\" cx=\"29.5\" cy=\"29.5\" r=\"1.5\"/>\n\n                            <g id=\"grp7\" opacity=\"0\" transform=\"translate(7 6)\">\n                                <circle id=\"oval1\" fill=\"#9CD8C3\" cx=\"2\" cy=\"6\" r=\"2\"/>\n                                <circle id=\"oval2\" fill=\"#8CE8C3\" cx=\"5\" cy=\"2\" r=\"2\"/>\n                            </g>\n\n                            <g id=\"grp6\" opacity=\"0\" transform=\"translate(0 28)\">\n                                <circle id=\"oval1\" fill=\"#CC8EF5\" cx=\"2\" cy=\"7\" r=\"2\"/>\n                                <circle id=\"oval2\" fill=\"#91D2FA\" cx=\"3\" cy=\"2\" r=\"2\"/>\n                            </g>\n\n                            <g id=\"grp3\" opacity=\"0\" transform=\"translate(52 28)\">\n                                <circle id=\"oval2\" fill=\"#9CD8C3\" cx=\"2\" cy=\"7\" r=\"2\"/>\n                                <circle id=\"oval1\" fill=\"#8CE8C3\" cx=\"4\" cy=\"2\" r=\"2\"/>\n                            </g>\n\n                            <g id=\"grp2\" opacity=\"0\" transform=\"translate(44 6)\">\n                                <circle id=\"oval2\" fill=\"#CC8EF5\" cx=\"5\" cy=\"6\" r=\"2\"/>\n                                <circle id=\"oval1\" fill=\"#CC8EF5\" cx=\"2\" cy=\"2\" r=\"2\"/>\n                            </g>\n\n                            <g id=\"grp5\" opacity=\"0\" transform=\"translate(14 50)\">\n                                <circle id=\"oval1\" fill=\"#91D2FA\" cx=\"6\" cy=\"5\" r=\"2\"/>\n                                <circle id=\"oval2\" fill=\"#91D2FA\" cx=\"2\" cy=\"2\" r=\"2\"/>\n                            </g>\n\n                            <g id=\"grp4\" opacity=\"0\" transform=\"translate(35 50)\">\n                                <circle id=\"oval1\" fill=\"#F48EA7\" cx=\"6\" cy=\"5\" r=\"2\"/>\n                                <circle id=\"oval2\" fill=\"#F48EA7\" cx=\"2\" cy=\"2\" r=\"2\"/>\n                            </g>\n\n                            <g id=\"grp1\" opacity=\"0\" transform=\"translate(24)\">\n                                <circle id=\"oval1\" fill=\"#9FC7FA\" cx=\"2.5\" cy=\"3\" r=\"2\"/>\n                                <circle id=\"oval2\" fill=\"#9FC7FA\" cx=\"7.5\" cy=\"2\" r=\"2\"/>\n                            </g>\n                            </g>\n                    </svg>\n                </label>\n            </div>\n        </div>\n        );\n};\n\nexport default Like;"],"mappings":"mJAAA,MAAO,GAAK,CAAAA,KAAK,KAAM,OAAO,CAC9B,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,OAASC,SAAS,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGtD,QAAS,CAAAC,IAAIA,CAACC,KAAK,CAAE,CAEjB;AAEA,IAAAC,UAAA,CAAuCP,SAAS,CAAC,CAAC,CAA1CQ,aAAa,CAAAD,UAAA,CAAbC,aAAa,CAAEC,WAAW,CAAAF,UAAA,CAAXE,WAAW,CAElC,GAAM,CAAAC,IAAI,CAAGJ,KAAK,CAACK,OAAO,CAACC,QAAQ,CAAC,CAAC,CACrC,GAAM,CAAAC,SAAS,CAAGP,KAAK,CAACO,SAAS,CAEjC,GAAM,CAAAC,UAAU,CAAGhB,KAAK,CAACiB,WAAW,CAAC,SAACC,CAAC,CAAK,CACxC,GAAM,CAAAC,SAAS,CAAGD,CAAC,CAACE,MAAM,CAACC,OAAO,CAClC,GAAM,CAAAC,OAAO,CAAGX,WAAW,CAACY,GAAG,CAAG,OAAO,CACzC,GAAM,CAAAC,aAAa,CAAGb,WAAW,CAACY,GAAG,CAAG,QAAQ,CAAGX,IAAI,CAEvD,GAAM,CAAAa,WAAW,CAAGN,SAAS,CACzBT,aAAa,CAACgB,MAAM,CAACJ,OAAO,CAAE,CAAEK,OAAO,CAAEf,IAAK,CAAC,CAAC,CAChDF,aAAa,CAACkB,QAAQ,CAACJ,aAAa,CAAC,CAEzCC,WAAW,CAACI,IAAI,CAAC,UAAM,CACnBC,QAAQ,CAACX,SAAS,CAAC,CACvB,CAAC,CAAC,CAACY,KAAK,CAAC,SAACC,KAAK,QAAK,CAAAC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,GAAC,CAC7C,CAAC,CAAE,CAACtB,aAAa,CAAEC,WAAW,CAAEC,IAAI,CAAC,CAAC,CAEtC,IAAAsB,eAAA,CAA0BlC,KAAK,CAACmC,QAAQ,CAAC,iBACrC,CAAApB,SAAS,CAACqB,IAAI,CAAC,SAACC,KAAK,QAAK,CAAAA,KAAK,CAACC,QAAQ,GAAK3B,WAAW,CAAC4B,EAAE,CAACC,GAAG,GAAC,EACpE,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAR,eAAA,IAFMS,KAAK,CAAAF,gBAAA,IAAEX,QAAQ,CAAAW,gBAAA,IAItBzC,KAAK,CAAC4C,SAAS,CAAC,UAAM,CAClBd,QAAQ,CAACf,SAAS,CAACqB,IAAI,CAAC,SAACC,KAAK,QAAK,CAAAA,KAAK,CAACC,QAAQ,GAAK3B,WAAW,CAAC4B,EAAE,CAACC,GAAG,GAAC,CAAC,CAC9E,CAAC,CAAE,CAACzB,SAAS,CAAEJ,WAAW,CAAC4B,EAAE,CAACC,GAAG,CAAC,CAAC,CAE/B,mBACIpC,IAAA,QAAKyC,EAAE,CAAC,cAAc,CAAAC,QAAA,cAClBxC,KAAA,QAAAwC,QAAA,eACI1C,IAAA,UACAiB,OAAO,CAAEsB,KAAM,CACfI,SAAS,CAAC,YAAY,CACtBC,IAAI,CAAC,UAAU,CACfC,QAAQ,CAAE,SAAAA,SAAA/B,CAAC,QAAI,CAAAF,UAAU,CAACE,CAAC,CAAC,EAAC,CAC7B2B,EAAE,CAAEjC,IAAK,CAAE,CAAC,cACZR,IAAA,UAAO8C,OAAO,CAAEtC,IAAK,CAAAkC,QAAA,cACjB1C,IAAA,QAAKyC,EAAE,CAAC,WAAW,CAACM,OAAO,CAAC,eAAe,CAACC,KAAK,CAAC,4BAA4B,CAAAN,QAAA,cAC1ExC,KAAA,MAAGuC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAC,SAAS,CAACC,SAAS,CAAC,oBAAoB,CAAAT,QAAA,eAC3E1C,IAAA,SAAMoD,CAAC,CAAC,6JAA6J,CAACX,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAAC,CAAC,cACjMjD,IAAA,WAAQyC,EAAE,CAAC,WAAW,CAACQ,IAAI,CAAC,SAAS,CAACI,OAAO,CAAC,GAAG,CAACC,EAAE,CAAC,MAAM,CAACC,EAAE,CAAC,MAAM,CAACC,CAAC,CAAC,KAAK,CAAC,CAAC,cAE/EtD,KAAA,MAAGuC,EAAE,CAAC,MAAM,CAACY,OAAO,CAAC,GAAG,CAACF,SAAS,CAAC,gBAAgB,CAAAT,QAAA,eAC/C1C,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,cACvDxD,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,EACxD,CAAC,cAEJtD,KAAA,MAAGuC,EAAE,CAAC,MAAM,CAACY,OAAO,CAAC,GAAG,CAACF,SAAS,CAAC,iBAAiB,CAAAT,QAAA,eAChD1C,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,cACvDxD,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,EACxD,CAAC,cAEJtD,KAAA,MAAGuC,EAAE,CAAC,MAAM,CAACY,OAAO,CAAC,GAAG,CAACF,SAAS,CAAC,kBAAkB,CAAAT,QAAA,eACjD1C,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,cACvDxD,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,EACxD,CAAC,cAEJtD,KAAA,MAAGuC,EAAE,CAAC,MAAM,CAACY,OAAO,CAAC,GAAG,CAACF,SAAS,CAAC,iBAAiB,CAAAT,QAAA,eAChD1C,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,cACvDxD,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,EACxD,CAAC,cAEJtD,KAAA,MAAGuC,EAAE,CAAC,MAAM,CAACY,OAAO,CAAC,GAAG,CAACF,SAAS,CAAC,kBAAkB,CAAAT,QAAA,eACjD1C,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,cACvDxD,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,EACxD,CAAC,cAEJtD,KAAA,MAAGuC,EAAE,CAAC,MAAM,CAACY,OAAO,CAAC,GAAG,CAACF,SAAS,CAAC,kBAAkB,CAAAT,QAAA,eACjD1C,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,cACvDxD,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,EACxD,CAAC,cAEJtD,KAAA,MAAGuC,EAAE,CAAC,MAAM,CAACY,OAAO,CAAC,GAAG,CAACF,SAAS,CAAC,eAAe,CAAAT,QAAA,eAC9C1C,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,cACzDxD,IAAA,WAAQyC,EAAE,CAAC,OAAO,CAACQ,IAAI,CAAC,SAAS,CAACK,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,GAAG,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC,EAC1D,CAAC,EACD,CAAC,CACP,CAAC,CACH,CAAC,EACP,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAArD,IAAI"},"metadata":{},"sourceType":"module"}