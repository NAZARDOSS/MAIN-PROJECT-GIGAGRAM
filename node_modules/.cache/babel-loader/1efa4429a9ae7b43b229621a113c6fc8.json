{"ast":null,"code":"import _objectDestructuringEmpty from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import _slicedToArray from\"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useForm}from\"react-hook-form\";import modalStyle from\"./modal.scss\";import{Modal,Button}from\"react-bootstrap\";import{observer}from\"mobx-react\";import{useStores}from\"../../../stores/MainStore\";import{useNavigate}from\"react-router-dom/dist\";import{ListItem,ListItemAvatar,ListItemText,Avatar,ListItemButton,TextField,InputAdornment}from'@mui/material';import PersonSearchIcon from'@mui/icons-material/PersonSearch';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SearchModal=observer(function(){var _useStores=useStores(),RequestsStore=_useStores.RequestsStore,ConfigStore=_useStores.ConfigStore;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var navigate=useNavigate();_objectDestructuringEmpty(useForm({mode:\"onChange\"}));function handleClose(){ConfigStore.setIsShowSearchModal(false);}var filteredUsers=users.filter(function(person){return person.username.toLowerCase().includes(searchTerm.toLowerCase())||person.fullName&&person.fullName.toLowerCase().includes(searchTerm.toLowerCase());});function handleSearch(event){setSearchTerm(event.target.value);}useEffect(function(){new Promise(function(resolve,rejects){resolve();}).then(function(){return RequestsStore.doGet(ConfigStore.url+\"/users\");}).then(function(users){if(users===\"Forbidden\"){ConfigStore.setErr(\"Token has been burned\");ConfigStore.setIsShow(true);}else{setUsers(users);}});},[]);var toUser=function toUser(username){handleClose();navigate(\"/user/\".concat(username));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Modal,{show:ConfigStore.isShowSearchModal,className:\"modals\",onHide:handleClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(Modal.Header,{className:\"search__header\",children:/*#__PURE__*/_jsx(TextField,{className:\"search__input\",onChange:handleSearch,size:\"small\",fullWidth:true,id:\"input-with-icon-textfield\",placeholder:\"Username\",multiline:true,variant:\"standard\",InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",style:{margin:0,marginRight:\"5px\"},children:/*#__PURE__*/_jsx(PersonSearchIcon,{})})},style:{marginBottom:\"10px\"}})}),filteredUsers.slice(0,5).map(function(person){var labelId=\"checkbox-list-secondary-label-\".concat(person._id);return/*#__PURE__*/_jsx(ListItem,{secondaryAction:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return toUser(person.username);},className:\"edit-btn\",children:\"GO TO\"}),disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:function onClick(){return toUser(person.username);},children:[/*#__PURE__*/_jsx(ListItemAvatar,{children:/*#__PURE__*/_jsx(Avatar,{alt:\"\",src:person.avatar})}),/*#__PURE__*/_jsx(ListItemText,{id:labelId,primary:person.username})]})},person._id);})]})})});});export default SearchModal;","map":{"version":3,"names":["React","useState","useEffect","useForm","modalStyle","Modal","Button","observer","useStores","useNavigate","ListItem","ListItemAvatar","ListItemText","Avatar","ListItemButton","TextField","InputAdornment","PersonSearchIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SearchModal","_useStores","RequestsStore","ConfigStore","_useState","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","searchTerm","setSearchTerm","navigate","_objectDestructuringEmpty","mode","handleClose","setIsShowSearchModal","filteredUsers","filter","person","username","toLowerCase","includes","fullName","handleSearch","event","target","value","Promise","resolve","rejects","then","doGet","url","setErr","setIsShow","toUser","concat","children","show","isShowSearchModal","className","onHide","Header","onChange","size","fullWidth","id","placeholder","multiline","variant","InputProps","startAdornment","position","style","margin","marginRight","marginBottom","slice","map","labelId","_id","secondaryAction","onClick","disablePadding","alt","src","avatar","primary"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/partial/modal/SearchModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useForm }                    from \"react-hook-form\";\nimport modalStyle                     from \"./modal.scss\";\nimport { Modal, Button }              from \"react-bootstrap\";\nimport { observer }                   from \"mobx-react\";\nimport { useStores }                  from \"../../../stores/MainStore\";\nimport { useNavigate }                from \"react-router-dom/dist\";\nimport { ListItem, ListItemAvatar, ListItemText, Avatar, ListItemButton, TextField, InputAdornment } from '@mui/material';\nimport PersonSearchIcon from '@mui/icons-material/PersonSearch';\n\nconst SearchModal = observer(() => {\n  const { RequestsStore, ConfigStore } = useStores();\n  const [users, setUsers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const navigate = useNavigate();\n\n  const {} = useForm({ mode: \"onChange\" });\n\n  function handleClose() {\n    ConfigStore.setIsShowSearchModal(false);\n  }\n\n  const filteredUsers = users.filter((person) => {\n    return (\n      person.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (person.fullName &&\n        person.fullName.toLowerCase().includes(searchTerm.toLowerCase()))\n    );\n  });\n\n  function handleSearch(event) {\n    setSearchTerm(event.target.value);\n  }\n\n  useEffect(() => {\n    new Promise((resolve, rejects) => {\n      resolve();\n    })\n      .then(() => {\n        return RequestsStore.doGet(ConfigStore.url + \"/users\");\n      })\n      .then((users) => {\n        if (users === \"Forbidden\") {\n          ConfigStore.setErr(\"Token has been burned\");\n          ConfigStore.setIsShow(true);\n        } else {\n          setUsers(users);\n        }\n      });\n  }, []);\n\n  const toUser = (username) => {\n    handleClose();\n    navigate(`/user/${username}`);\n  };\n\n  return (\n    <>\n      <Modal show={ConfigStore.isShowSearchModal} className=\"modals\" onHide={handleClose}>\n        <div className=\"search\">\n        <Modal.Header className=\"search__header\">\n          <TextField className=\"search__input\"\n          onChange={handleSearch}\n          size='small'\n          fullWidth\n          id=\"input-with-icon-textfield\"\n          placeholder=\"Username\"\n          multiline\n          variant=\"standard\"\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\" style={{ margin: 0, marginRight: \"5px\" }}>\n                <PersonSearchIcon />\n              </InputAdornment>\n            ),\n          }}\n          style={{\n            marginBottom: \"10px\"\n          }}\n        />\n        </Modal.Header>\n        {filteredUsers.slice(0, 5).map((person) => {\n          const labelId = `checkbox-list-secondary-label-${person._id}`;\n          return (\n            <ListItem\n              key={person._id}\n              secondaryAction={<Button onClick = {() => toUser(person.username)} className=\"edit-btn\" >GO TO</Button>}\n              disablePadding\n            >\n              <ListItemButton onClick = {() => toUser(person.username)}>\n                <ListItemAvatar>\n                  <Avatar alt=\"\" src={person.avatar} />\n                </ListItemAvatar>\n                <ListItemText id={labelId} primary={person.username} />\n              </ListItemButton>\n            </ListItem>\n          );\n        })}\n        </div>\n      </Modal>\n    </>\n  );\n});\n\nexport default SearchModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}