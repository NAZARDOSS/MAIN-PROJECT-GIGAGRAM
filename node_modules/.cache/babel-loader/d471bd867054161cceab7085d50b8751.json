{"ast":null,"code":"var _jsxFileName = \"/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/private/feed/PostCard.jsx\",\n  _s = $RefreshSig$();\nimport * as React from \"react\";\nimport { Typography, Button, CardHeader, CardMedia, CardContent, CardActions, Card, Box } from \"@mui/material\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport Avatar from \"@mui/joy/Avatar\";\nimport AvatarGroup from \"@mui/joy/AvatarGroup\";\nimport { useStores } from \"../../../stores/MainStore\";\nimport Like from \"../../partial/like/Like\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PostCard(props) {\n  _s();\n  const {\n    ConfigStore\n  } = useStores();\n  const item = props.item;\n  const navigate = useNavigate();\n  const clampAvatars = React.useCallback(function (avatars) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      max: 5\n    };\n    const {\n      max = 5,\n      total\n    } = options;\n    let clampedMax = max < 2 ? 2 : max;\n    const totalAvatars = total || avatars.length;\n    if (totalAvatars === clampedMax) {\n      clampedMax += 1;\n    }\n    clampedMax = Math.min(totalAvatars + 1, clampedMax);\n    const maxAvatars = Math.min(avatars.length, clampedMax - 1);\n    const surplus = Math.max(totalAvatars - clampedMax, totalAvatars - maxAvatars, 0);\n    return {\n      avatars: avatars.slice(0, maxAvatars).reverse(),\n      surplus\n    };\n  }, []);\n  const {\n    avatars,\n    surplus\n  } = clampAvatars(item.likes, {\n    max: 4,\n    total: item.likes.length\n  });\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"postCard\",\n    sx: {\n      width: 600,\n      borderRadius: \"25px\",\n      boxShadow: \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n        onClick: () => navigate(`/user/${item.user[0].username}`),\n        className: \"user__avatar\",\n        src: item && item.user[0] ? item.user[0].avatar : \"some defaul src\",\n        alt: \"my avatar\",\n        sx: {\n          width: 60,\n          height: 60\n        },\n        \"aria-label\": \"recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this),\n      title: item && item.user[0] ? item.user[0].username : \"some defaul src\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), item.video && item.video !== \"any\" ? /*#__PURE__*/_jsxDEV(CardMedia, {\n      component: \"video\",\n      image: item.video,\n      autoPlay: true,\n      loop: true,\n      muted: true,\n      playsInline: true,\n      style: {\n        objectFit: \"contain\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(CardMedia, {\n      component: \"img\",\n      image: item.image,\n      style: {\n        objectFit: \"contain\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"div\",\n        children: item.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: item.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Like, {\n          like_id: item._id,\n          userLikes: item.likes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AvatarGroup, {\n          sx: {\n            ml: 2\n          },\n          children: [avatars.map((element, index) => /*#__PURE__*/_jsxDEV(Avatar, {\n            src: ConfigStore.url + \"/avatar/\" + element.fromUser\n          }, index + Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)), !!surplus && /*#__PURE__*/_jsxDEV(Avatar, {\n            children: [\"+\", surplus]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        onClick: () => navigate(`/post/${item._id}`),\n        children: \"Learn More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, item._id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(PostCard, \"uw3+n+Fg8sodv6THFD+i75EF04w=\", false, function () {\n  return [useStores, useNavigate];\n});\n_c = PostCard;\nvar _c;\n$RefreshReg$(_c, \"PostCard\");","map":{"version":3,"names":["React","Typography","Button","CardHeader","CardMedia","CardContent","CardActions","Card","Box","AliceCarousel","useNavigate","FavoriteIcon","Avatar","AvatarGroup","useStores","Like","jsxDEV","_jsxDEV","PostCard","props","_s","ConfigStore","item","navigate","clampAvatars","useCallback","avatars","options","arguments","length","undefined","max","total","clampedMax","totalAvatars","Math","min","maxAvatars","surplus","slice","reverse","likes","className","sx","width","borderRadius","boxShadow","children","avatar","onClick","user","username","src","alt","height","fileName","_jsxFileName","lineNumber","columnNumber","title","video","component","image","autoPlay","loop","muted","playsInline","style","objectFit","gutterBottom","variant","color","description","display","justifyContent","alignItems","like_id","_id","userLikes","ml","map","element","index","url","fromUser","random","size","_c","$RefreshReg$"],"sources":["/Users/nazardosmukhambetov/Desktop/MAIN-PROJECT-GIGAGRAM-main/src/pages/private/feed/PostCard.jsx"],"sourcesContent":["import * as React from \"react\";\nimport {\n  Typography,\n  Button,\n  CardHeader,\n  CardMedia,\n  CardContent,\n  CardActions,\n  Card,\n  Box,\n} from \"@mui/material\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport Avatar from \"@mui/joy/Avatar\";\nimport AvatarGroup from \"@mui/joy/AvatarGroup\";\nimport { useStores } from \"../../../stores/MainStore\";\nimport Like from \"../../partial/like/Like\";\n\nexport default function PostCard(props) {\n  const { ConfigStore } = useStores();\n\n  const item = props.item;\n  const navigate = useNavigate();\n\n  const clampAvatars = React.useCallback((avatars, options = { max: 5 }) => {\n    const { max = 5, total } = options;\n    let clampedMax = max < 2 ? 2 : max;\n    const totalAvatars = total || avatars.length;\n    if (totalAvatars === clampedMax) {\n      clampedMax += 1;\n    }\n    clampedMax = Math.min(totalAvatars + 1, clampedMax);\n    const maxAvatars = Math.min(avatars.length, clampedMax - 1);\n    const surplus = Math.max(\n      totalAvatars - clampedMax,\n      totalAvatars - maxAvatars,\n      0\n    );\n    return { avatars: avatars.slice(0, maxAvatars).reverse(), surplus };\n  }, []);\n\n  const { avatars, surplus } = clampAvatars(item.likes, {\n    max: 4,\n    total: item.likes.length,\n  });\n\n  return (\n    <Card\n      className=\"postCard\"\n      sx={{\n        width: 600,\n        borderRadius: \"25px\",\n        boxShadow:\n          \"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px\",\n      }}\n      key={item._id}\n    >\n      <CardHeader\n        avatar={\n          <Avatar\n            onClick={() => navigate(`/user/${item.user[0].username}`)}\n            className=\"user__avatar\"\n            src={item && item.user[0] ? item.user[0].avatar : \"some defaul src\"}\n            alt=\"my avatar\"\n            sx={{ width: 60, height: 60 }}\n            aria-label=\"recipe\"\n          ></Avatar>\n        }\n        title={item && item.user[0] ? item.user[0].username : \"some defaul src\"}\n      />\n      {item.video && item.video !== \"any\" ? (\n        <CardMedia\n          component=\"video\"\n          image={item.video}\n          autoPlay\n          loop\n          muted\n          playsInline\n          style={{\n            objectFit: \"contain\",\n            width: \"100%\",\n          }}\n        />\n      ) : (\n        <CardMedia\n          component=\"img\"\n          image={item.image}\n          style={{\n            objectFit: \"contain\",\n            width: \"100%\",\n          }}\n        />\n      )}\n      <CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"div\">\n          {item.title}\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {item.description}\n        </Typography>\n      </CardContent>\n      <CardActions style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <Box style={{ display: \"flex\", alignItems: \"center\" }}>\n          <Like like_id={item._id} userLikes={item.likes} />\n          <AvatarGroup sx={{ ml: 2 }}>\n            {avatars.map((element, index) => (\n              <Avatar\n                key={index + Math.random()}\n                src={ConfigStore.url + \"/avatar/\" + element.fromUser}\n              />\n            ))}\n            {!!surplus && <Avatar>+{surplus}</Avatar>}\n          </AvatarGroup>\n        </Box>\n        <Button size=\"small\" onClick={() => navigate(`/post/${item._id}`)}>\n          Learn More\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}